System.register("chunks:///_virtual/ActiveExitVehicleFeedBack.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,a,n,l,c,o,s,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,c=e.ParticleSystem,o=e.Material,s=e.MeshRenderer,m=e.Component}],execute:function(){var u,h,p,_,d,M,f,y,C;n._RF.push({},"d6d70KSECFKe7iEppHqKFeJ","ActiveExitVehicleFeedBack",void 0);var g=l.ccclass,v=l.property;e("ActiveExitVehicleFeedBack",(u=g("ActiveExitVehicleFeedBack"),h=v({type:c}),p=v(o),_=v(o),u((f=t((M=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,r(t,"m_Particle",f,a(t)),r(t,"m_MatGreen",y,a(t)),r(t,"m_MatRed",C,a(t)),t.m_Material=void 0,t.m_TimeMax=.75,t.m_CurrentTimer=0,t.m_MatChange=!1,t}i(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){this.m_MatChange&&(this.m_CurrentTimer+=1*e,this.m_CurrentTimer>=this.m_TimeMax&&(this.node.getComponentInChildren(s).setMaterial(this.m_MatRed,2),this.m_MatChange=!1))},n.ActivateFeedBack=function(){this.m_MatChange=!0,this.m_CurrentTimer=0,this.m_Particle.stop(),this.m_Particle.play(),this.node.getComponentInChildren(s).setMaterial(this.m_MatGreen,2)},t}(m)).prototype,"m_Particle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(M.prototype,"m_MatGreen",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(M.prototype,"m_MatRed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=M))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/ActiveOnOrientation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,r,o,a,c,s,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.CCBoolean,s=t.screen,l=t.Component}],execute:function(){var p,u,h,f,d,v,w;o._RF.push({},"5f3capj3elIn6+875WtUYnc","ActiveOnOrientation",void 0);var y=a.ccclass,g=a.property;t("ActiveOnOrientation",(p=y("ActiveOnOrientation"),u=g(c),h=g(c),p((v=i((d=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(i,"landscape",v,r(i)),e(i,"portrait",w,r(i)),i}n(i,t);var o=i.prototype;return o.onLoad=function(){this.onOrientationChange(this.node)},o.start=function(){},o.onOrientationChange=function(t){t.active=!1,s.windowSize.width>=s.windowSize.height&&this.landscape&&(t.active=!0),s.windowSize.width<s.windowSize.height&&this.portrait&&(t.active=!0)},o.onDestroy=function(){},i}(l)).prototype,"landscape",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=i(d.prototype,"portrait",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=d))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Anim.ts",["cc"],(function(i){var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"cedd8krIMNMyKxysahiVmz/","Anim",void 0);var I=i("Anim",(function(){}));I.ENTER_COLLISION_VEHICLE_FORWARD="EnterCollisionVehicleForward",I.ENTER_COLLISION_VEHICLE_BACKWARD="EnterCollisionVehicleBackward",I.VEHICLE_BRAKE="VehicleBrake",I.FINGER_UP="FingerUp",I.FINGER_RIGHT="FingerRight",I.COLLISION_VEHICLE_LEFT="CollisionVehicleLeft",I.COLLISION_VEHICLE_RIGHT="CollisionVehicleRight",I.COLLISION_VEHICLE_DOWN="CollisionVehicleDown",I.COLLISION_VEHICLE_UP="CollisionVehicleUp",I.BARRIERE_HIT="BarriereHit",I.PYLONE_HIT="PyloneHit",I.SMILEY_ANIM="SmileyAnim",e._RF.pop()}}}));

System.register("chunks:///_virtual/Barriere.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectOnParking.ts"],(function(r){var e,n,t,i;return{setters:[function(r){e=r.inheritsLoose},function(r){n=r.cclegacy,t=r._decorator},function(r){i=r.ObjectOnParking}],execute:function(){var c;n._RF.push({},"6d1b6APYT9Px5wT75ULAZTJ","Barriere",void 0);var o=t.ccclass;t.property,r("Barriere",o("Barriere")(c=function(r){function n(){for(var e,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return(e=r.call.apply(r,[this].concat(t))||this).AnimName=null,e}return e(n,r),n.prototype.CollisionVehicle=function(){null!=this.m_Anim&&this.m_Anim.play()},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/BasePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var o,i,e,t,a,r,c,s,l,m,u;return{setters:[function(n){o=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Enum,s=n.Vec2,l=n.Vec3,m=n.tween,u=n.Component}],execute:function(){var h,p,f,d,b,k,w;a._RF.push({},"da65ejzFnVFAZPBJmkBS2rC","BasePopup",void 0);var T=r.ccclass,v=r.property,F=function(n){return n[n.FromLeft=0]="FromLeft",n[n.FromRight=1]="FromRight",n[n.FromTop=2]="FromTop",n[n.FromBottom=3]="FromBottom",n[n.Puyon=4]="Puyon",n}(F||{}),y=function(n){return n[n.ToLeft=0]="ToLeft",n[n.ToRight=1]="ToRight",n[n.ToTop=2]="ToTop",n[n.ToBottom=3]="ToBottom",n[n.Shrink=4]="Shrink",n}(y||{});n("BasePopup",(h=T("BasePopup"),p=v({type:c(F)}),f=v({type:c(y)}),h((k=o((b=function(n){function o(){for(var o,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return o=n.call.apply(n,[this].concat(a))||this,e(o,"showAnimation",k,t(o)),e(o,"hideAnimation",w,t(o)),o.openCallback=void 0,o.closeCallback=void 0,o.instance=void 0,o}i(o,n);var a=o.prototype;return a.initPopup=function(n,o){this.openCallback=n,this.closeCallback=o},a.showPopup=function(){switch(null!=this.openCallback&&this.openCallback(),this.showAnimation){case F.FromLeft:this.animationMoveFrom(new s(-1e3,0));break;case F.FromRight:this.animationMoveFrom(new s(1e3,0));break;case F.FromTop:this.animationMoveFrom(new s(0,600));break;case F.FromBottom:this.animationMoveFrom(new s(0,-600));break;case F.Puyon:this.animationScale(new s(.05,.05),new s(1,1),"circIn");break;default:this.animationMoveFrom(new s(-1e3,0))}},a.closePopup=function(){var n=this;switch(this.hideAnimation){case y.ToLeft:this.animationMoveTo(new s(-1e3,0),"backIn",(function(){n.endHideAnimation()}));break;case y.ToRight:this.animationMoveTo(new s(1e3,0),"backIn",(function(){n.endHideAnimation()}));break;case y.ToTop:this.animationMoveTo(new s(0,600),"backIn",(function(){n.endHideAnimation()}));break;case y.ToBottom:this.animationMoveTo(new s(0,-600),"backIn",(function(){n.endHideAnimation()}));break;case y.Shrink:this.animationScale(new s(1,1),new s(.05,.05),"backIn",(function(){n.endHideAnimation()}));break;default:this.endHideAnimation()}},a.endHideAnimation=function(){null!=this.closeCallback&&this.closeCallback(),this.node.destroy()},a.animationMoveFrom=function(n){this.node.setPosition(new l(n.x,n.y,0)),this.animationMoveTo(s.ZERO,"circOut")},a.animationMoveTo=function(n,o,i){m().target(this.node).to(.4,{position:new l(n.x,n.y,0)},{easing:o}).call((function(){null!=i&&i()})).start()},a.animationScale=function(n,o,i,e){this.node.setScale(new l(n.x,n.y,1));m().target(this.node).to(.4,{scale:new l(o.x,o.y,1)},{easing:i}).call((function(){null!=e&&e()})).start()},o}(u)).prototype,"showAnimation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.FromLeft}}),w=o(b.prototype,"hideAnimation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.ToRight}}),d=b))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OkPopup.ts","./ShopPopup.ts"],(function(o){var e,t,n,s,c,a,i,r,p,u,y;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,s=o.log,c=o.input,a=o.Input,i=o.KeyCode,r=o.UITransform,p=o.Component},function(o){u=o.OkPopup},function(o){y=o.ShopPopup}],execute:function(){var l;t._RF.push({},"2b8cbfXSjJLxqtxJinfS5dr","CanvasTest",void 0);var h=n.ccclass;n.property,o("CanvasTest",h("CanvasTest")(l=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var n=t.prototype;return n.start=function(){s("start")},n.onLoad=function(){c.on(a.EventType.KEY_DOWN,this.onKeyDown,this),c.on(a.EventType.KEY_UP,this.onKeyUp,this),c.on(a.EventType.TOUCH_START,this.onTouchStart,this)},n.onDestroy=function(){c.off(a.EventType.KEY_DOWN,this.onKeyDown,this),c.off(a.EventType.KEY_UP,this.onKeyUp,this),c.off(a.EventType.TOUCH_START,this.onTouchStart,this)},n.onKeyDown=function(o){switch(s("onKeyDown",o.keyCode),o.keyCode){case i.KEY_A:console.log("Press a key")}},n.onKeyUp=function(o){switch(s("onKeyUp",o.keyCode),o.keyCode){case i.KEY_O:console.log("Release a key"),u.create("title","message","ok",null);break;case i.KEY_E:console.log("Release a key");break;case i.KEY_S:console.log("Release a key"),y.create(void 0,void 0)}},n.onTouchStart=function(o){var e=this.node.getComponent(r);s("onTouchStart",this.name,e.contentSize),console.log(o.getLocation()),console.log(o.getUILocation())},t}(p))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(t){var n,O;return{setters:[function(t){n=t.cclegacy,O=t.Color}],execute:function(){n._RF.push({},"d3dd2ZJx65COaqMFKtyTm/x","Constants",void 0);var e=t("default",(function(){}));e.POKI=!0,e.VERSION="1.0.2",e.CLEAR_DATA=!1,e.DEBUG_MODE=!1,e.TEST_MODE=!1,e.SHOW_FPS=!1,e.PLAYTEST=!1,e.CHEAT_MODE=!1,e.DEBUG_ARCADE=!1,e.CONSOLE=!1,e.COLOR_SELECT=new O("#FF7000"),e.COLOR_LOCK=new O("#4B4B4B"),e.COLOR_UNLOCK=new O("#FFFFFF"),n._RF.pop()}}}));

System.register("chunks:///_virtual/CreationParking.ts",["cc","./ActiveExitVehicleFeedBack.ts"],(function(t){var s,r,i,e,m;return{setters:[function(t){s=t.cclegacy,r=t._decorator,i=t.instantiate,e=t.Quat},function(t){m=t.ActiveExitVehicleFeedBack}],execute:function(){var o;s._RF.push({},"a83f2x1I0ZPmKVT77epn3OZ","CreationParking",void 0);var _=r.ccclass;r.property,t("CreationParking",_("CreationParking")(o=function(){function t(t,s){this.m_OffsetY=.01,this.m_OffsetRoad=1.5,this.m_Parent=void 0,this.m_Objects=new Array,this.m_Grid=void 0,this.m_Game=null,this.m_Endpark=void 0,this.m_Parent=t,this.m_Grid=s}var s=t.prototype;return s.CreateParking=function(t,s,r,m,o,_,a){if(t%2==0&&0==s){var n=i(r[0]);n.setParent(o),n.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a),this.m_Objects.push(n)}else if(t%2==1&&0==s){var h=i(r[0]);h.setParent(o),h.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var P=e.fromEuler(new e,0,-90,0);h.setRotation(P),this.m_Objects.push(h)}else if(t%2==0&&1==s){var f=i(r[1]);f.setParent(o),f.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a),this.m_Objects.push(f)}else if(t%2==1&&1==s){var d=i(r[1]);d.setParent(o),d.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var G=e.fromEuler(new e,0,180,0);d.setRotation(G),this.m_Objects.push(d)}else if(t%2==0&&s==m.m_GridArray.length-1){var u=i(r[0]);u.setParent(o),u.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var c=e.fromEuler(new e,0,90,0);u.setRotation(c),this.m_Objects.push(u)}else if(t%2==1&&s==m.m_GridArray.length-1){var y=i(r[0]);y.setParent(o),y.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var A=e.fromEuler(new e,0,180,0);y.setRotation(A),this.m_Objects.push(y)}else if(t%2==0&&s==m.m_GridArray.length-2){var O=i(r[1]);O.setParent(o),O.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var v=e.fromEuler(new e,0,0,0);O.setRotation(v),this.m_Objects.push(O)}else if(t%2==1&&s==m.m_GridArray.length-2){var l=i(r[1]);l.setParent(o),l.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var R=e.fromEuler(new e,0,180,0);l.setRotation(R),this.m_Objects.push(l)}else{var p=i(r[2]);p.setParent(o),p.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a),this.m_Objects.push(p)}},s.CreateRoad=function(t,s,r,o,_,a){if(t>=0&&0==s){var n=i(r[3]);n.setParent(this.m_Parent),n.setPosition(o.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a-this.m_OffsetRoad),this.m_Objects.push(n)}if(0==t&&s>=0){var h=i(r[3]);h.setParent(this.m_Parent),h.setPosition(o.m_GridArray[t][s].m_PosX-this.m_OffsetRoad*_,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a);var P=e.fromEuler(new e,0,90,0);h.setRotation(P),this.m_Objects.push(h)}if(t==o.m_Row-1&&s>=0){var f=i(r[3]);f.setParent(this.m_Parent),f.setPosition(o.m_GridArray[t][s].m_PosX+this.m_OffsetRoad*_,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a);var d=e.fromEuler(new e,0,90,0);f.setRotation(d),this.m_Objects.push(f)}if(t>=0&&s==o.m_Col-1){var G=i(r[3]);G.setParent(this.m_Parent),G.setPosition(o.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a+this.m_OffsetRoad),this.m_Objects.push(G)}if(t==o.m_Row-1&&s==o.m_Col-1)for(var u=1;u<30;u++){var c=i(r[3]);c.setParent(this.m_Parent),c.setPosition(o.m_GridArray[t][s].m_PosX*_+this.m_OffsetRoad,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a+1*u);var y=e.fromEuler(new e,0,90,0);if(c.setRotation(y),this.m_Objects.push(c),3==u){var A=i(r[5]);A.setParent(this.m_Parent),A.setPosition(o.m_GridArray[t][s].m_PosX*_+this.m_OffsetRoad,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a+1*u),this.m_Objects.push(A),this.m_Endpark=A.getComponent(m)}}},s.CreationEnvironnement=function(t,s){var r=i(t[0]);r.setParent(s),r.setPosition(0,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosZ+3.2);var m=e.fromEuler(new e,0,90,0);r.setRotation(m),this.m_Objects.push(r),(r=i(t[1])).setParent(s),r.setPosition(0,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][0].m_PosZ-3),m=e.fromEuler(new e,0,-90,0),r.setRotation(m),this.m_Objects.push(r),(r=i(t[3])).setParent(s),r.setPosition(this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosX+.5,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosZ+3),this.m_Objects.push(r),(r=i(t[2])).setParent(s),r.setPosition(this.m_Grid.m_GridArray[0][0].m_PosX-7,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosZ+2.5),m=e.fromEuler(new e,0,-90,0),r.setRotation(m),this.m_Objects.push(r),(r=i(t[2])).setParent(s),r.setPosition(this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][0].m_PosX+7,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosZ-25.5),m=e.fromEuler(new e,0,90,0),r.setRotation(m),this.m_Objects.push(r)},s.CreateCornerRoad=function(t,s,r){var m=i(t);m.setParent(this.m_Parent),m.setPosition(s.m_KnotArray[r].m_PosX,this.m_OffsetY,s.m_KnotArray[r].m_PosZ);var o=e.fromEuler(new e,0,s.m_KnotArray[r].m_Rotation,0);m.setRotation(o),this.m_Objects.push(m)},s.CreateArrowSprite=function(t,s,r,m){var o=i(t[4]);o.setPosition(s),o.setParent(r);var _=new e;e.fromEuler(_,-90,90-90*m,0),o.setRotation(_),this.m_Objects.push(o)},t}())||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DemoScript.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PokiPlatform.ts"],(function(e){var o,a,t,i,r,n,c,u,l,s,p,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,c=e.Label,u=e.game,l=e.AudioSource,s=e.log,p=e.Component},function(e){h=e.CCPokiSDK}],execute:function(){var d,m,S,y,f;r._RF.push({},"02a8cG1kBZMb6HG0cbbzmxL","DemoScript",void 0);var R=n.ccclass,k=n.property;e("DemoScript",(d=R("DemoScript"),m=k({type:c}),d((f=o((y=function(e){function o(){for(var o,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return o=e.call.apply(e,[this].concat(r))||this,t(o,"outputLabel",f,i(o)),o.audioSource=null,o}a(o,e);var r=o.prototype;return r.start=function(){u.on(h.EVENT_REWARD_BREAK_DONE,this.onRewardBreakDone,this),u.on(h.EVENT_COMMERCIAL_BREAK_DONE,this.onCommercialBreakDone,this),u.on(h.EVENT_SHRABLE_URL_READY,this.onSharableLinkReady,this),this.audioSource=this.getComponent(l)},r.onShareableLinkClicked=function(e){h.shareableURL({difficulty:"easy",lives:3})},r.onSharableLinkReady=function(){var e=arguments[0];s("SharableURL:",e),this.outputLabel.string=e},r.onRewardBreakClicked=function(e){this.audioSource.pause(),h.gameplayStop(),h.rewardBreak()},r.onRewardBreakDone=function(){var e=arguments[0];e?(this.outputLabel.string="Reward video success.",s("Revive Player"),h.gameplayStart()):s("Game End Screen"),this.audioSource.play()},r.onCommercialBreakClicked=function(e){this.audioSource.pause(),h.gameplayStop(),h.commercialBreak()},r.onCommercialBreakDone=function(){h.gameplayStart(),this.audioSource.play()},o}(p)).prototype,"outputLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=y))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/EndLevelPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopup.ts","./Constants.ts"],(function(e){var t,n,o,i,a,l,p,r,u,s,c,d,h,m,v,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,p=e.Label,r=e.Button,u=e.Node,s=e.Sprite,c=e.instantiate,d=e.director,h=e.resources,m=e.randomRangeInt},function(e){v=e.BasePopup},function(e){P=e.default}],execute:function(){var b,C,_,y,f,L,g,w,B,E,T,z,R,A,k,S,I,x,O,U,D,N;a._RF.push({},"e5fa4hvDCxNR7hsug83oU5U","EndLevelPopup",void 0);var F=l.ccclass,K=l.property;e("EndLevelPopup",(b=F("EndLevelPopup"),C=K({type:p}),_=K({type:p}),y=K({type:p}),f=K({type:r}),L=K({type:r}),g=K({type:r}),w=K({type:u}),B=K({type:s}),E=K({type:u}),b(((N=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,o(t,"m_congratzText",R,i(t)),o(t,"m_reward",A,i(t)),o(t,"m_rewardWithAd",k,i(t)),o(t,"m_adsButton",S,i(t)),o(t,"m_continueButton",I,i(t)),o(t,"m_shopButton",x,i(t)),o(t,"m_tapToContinueText",O,i(t)),o(t,"m_smileySprite",U,i(t)),o(t,"m_Cars",D,i(t)),t}n(t,e),t.create=function(e,n,o,i,a,l,p){t.gameManager=e,t.endLevelPopupVehicleCounter=n,t.endLevelPopupAdsRewardCounter=o,t.endLevelPopupRewardCallback=i,t.endLevelPopupOpenCallback=a,t.endLevelPopupCloseCallback=l,h.load("Popups/EndLevelPopup",t.onPrefabLoaded)},t.closeNow=function(){null!=t.instance&&(t.instance.getComponent(v).closePopup(),t.instance=void 0)};var a=t.prototype;return a.initEndLevelPopup=function(n,o){this.timerToActiveContinueButton();var i=["INCREDIBLE!","FABULOUS!","GREAT!","EXCELLENT!","PERFECT!","SUPER!"];this.m_congratzText.string=i[m(0,i.length)],this.m_reward.string=t.endLevelPopupVehicleCounter,this.m_rewardWithAd.string="+"+t.endLevelPopupAdsRewardCounter,this.m_adsButton.node.on(r.EventType.CLICK,this.showAds,this),P.POKI?(this.m_adsButton.node.active=!0,this.m_Cars.active=!1):(this.m_adsButton.node.active=!1,this.m_Cars.active=!0),this.m_shopButton.node.on(r.EventType.CLICK,this.showShopPopup,this),this.m_continueButton.node.on(r.EventType.CLICK,this.closePopup,this),e.prototype.initPopup.call(this,n,o),e.prototype.showPopup.call(this)},a.timerToActiveContinueButton=function(){this.m_continueButton.enabled=!1,this.scheduleOnce((function(){this.m_continueButton.enabled=!0}),3)},a.showPopup=function(){e.prototype.showPopup.call(this)},a.closePopup=function(){this.m_adsButton.interactable=!1,this.m_continueButton.interactable=!1,t.instance=void 0,e.prototype.closePopup.call(this)},a.showAds=function(){this.m_adsButton.interactable=!1,t.endLevelPopupRewardCallback()},a.showShopPopup=function(){t.gameManager.showShopPopup()},t}(v)).gameManager=void 0,N.endLevelPopupVehicleCounter=void 0,N.endLevelPopupAdsRewardCounter=void 0,N.endLevelPopupRewardCallback=void 0,N.endLevelPopupOpenCallback=void 0,N.endLevelPopupCloseCallback=void 0,N.instance=void 0,N.onPrefabLoaded=function(e,t){N.instance=c(t),N.instance.setParent(d.getScene().getChildByPath("UIGame/PopupContainer")),N.instance.getComponent(N).initEndLevelPopup(N.endLevelPopupOpenCallback,N.endLevelPopupCloseCallback)},R=t((z=N).prototype,"m_congratzText",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(z.prototype,"m_reward",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(z.prototype,"m_rewardWithAd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(z.prototype,"m_adsButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(z.prototype,"m_continueButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(z.prototype,"m_shopButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(z.prototype,"m_tapToContinueText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(z.prototype,"m_smileySprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(z.prototype,"m_Cars",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=z))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectOnParking.ts","./CreationParking.ts","./Grid.ts","./InterfaceUser.ts","./Sound.ts","./SoundManager.ts","./Spline.ts","./UIManager.ts","./Vehicle.ts","./VehicleData.ts","./VictoryParticles.ts","./PokiManager.ts","./ShakeScreen.ts","./Constants.ts","./VehiclePack.ts","./ProceduralLevel.ts","./PlayerInfo.ts","./Obstacle.ts","./EndLevelPopup.ts","./ShopPopup.ts"],(function(e){var i,t,r,a,s,n,h,o,m,l,_,c,f,u,d,P,b,V,v,C,g,p,y,G,k,M,S,I,O,A,T,w,L,D,B,E,N,x,R,X,z,Z,j,U,H,F,Y,K,W,q,J;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,n=e._decorator,h=e.DirectionalLight,o=e.CCFloat,m=e.CCInteger,l=e.Camera,_=e.Prefab,c=e.Node,f=e.input,u=e.Input,d=e.KeyCode,P=e.log,b=e.resources,V=e.JsonAsset,v=e.geometry,C=e.PhysicsSystem,g=e.Vec3,p=e.Color,y=e.find,G=e.screen,k=e.Quat,M=e.instantiate,S=e.director,I=e.tween,O=e.UIOpacity,A=e.sys,T=e.Component},function(e){w=e.ObjectOnParking},function(e){L=e.CreationParking},function(e){D=e.Grid},function(e){B=e.InterfaceUser},function(e){E=e.Sound},function(e){N=e.SoundManager},function(e){x=e.Spline},function(e){R=e.UIManager},function(e){X=e.Vehicle},function(e){z=e.VehicleData},function(e){Z=e.VictoryParticles},function(e){j=e.PokiManager},function(e){U=e.ShakeScreen},function(e){H=e.default},function(e){F=e.VehiclePack},function(e){Y=e.default},function(e){K=e.PlayerInfo},function(e){W=e.Obstacle},function(e){q=e.EndLevelPopup},function(e){J=e.ShopPopup}],execute:function(){var Q,$,ee,ie,te,re,ae,se,ne,he,oe,me,le,_e,ce,fe,ue,de,Pe,be,Ve,ve,Ce,ge,pe,ye,Ge,ke,Me,Se,Ie,Oe,Ae,Te,we,Le,De,Be,Ee,Ne,xe,Re,Xe,ze,Ze,je,Ue;s._RF.push({},"8eab5cYFTNDa4z3dFWRogAu","Game",void 0);var He=n.ccclass,Fe=n.property;e("Game",(Q=He("Game"),$=Fe({type:R}),ee=Fe(N),ie=Fe({type:j}),te=Fe(U),re=Fe(h),ae=Fe({type:o}),se=Fe({type:m}),ne=Fe({type:m}),he=Fe({type:l}),oe=Fe({type:_}),me=Fe({type:_}),le=Fe({type:_}),_e=Fe(B),ce=Fe(c),fe=Fe({type:o}),ue=Fe({type:o}),de=Fe({type:c}),Pe=Fe({type:c}),be=Fe({type:c}),Ve=Fe({type:c}),ve=Fe(_),Ce=Fe(F),Q((ye=i((pe=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return i=e.call.apply(e,[this].concat(s))||this,r(i,"m_uiManager",ye,a(i)),r(i,"m_SoundManager",Ge,a(i)),r(i,"m_PokiManager",ke,a(i)),r(i,"m_ShakeCamera",Me,a(i)),r(i,"m_MainLight",Se,a(i)),r(i,"m_DistanceSlide",Ie,a(i)),r(i,"m_Index",Oe,a(i)),r(i,"m_LevelToTest",Ae,a(i)),r(i,"m_Camera",Te,a(i)),r(i,"m_Prefab",we,a(i)),r(i,"m_Tiles",Le,a(i)),r(i,"m_Enviro",De,a(i)),r(i,"m_Ui",Be,a(i)),r(i,"m_BackGround",Ee,a(i)),r(i,"m_OffsetX",Ne,a(i)),r(i,"m_OffsetZ",xe,a(i)),r(i,"m_VictoryParticles",Re,a(i)),r(i,"m_NodeRoadParent",Xe,a(i)),r(i,"m_NodeParkingParent",ze,a(i)),r(i,"m_NodeEnviroParent",Ze,a(i)),r(i,"m_TrailArray",je,a(i)),r(i,"m_VehiclePack",Ue,a(i)),i.m_allLevels=void 0,i.m_allSkins=void 0,i.m_allTrails=void 0,i.m_Trail=null,i.m_PackVehicleSelect=[],i.m_PackVehicle=[],i.m_MainGrid=null,i.m_Parking=null,i.m_Spline=void 0,i.m_Vehicle=null,i.m_VehicleMove=!1,i.m_ButtonPress=!1,i.m_CurrentTouchID=-1,i.m_Object=[],i.m_MouseStartPosition=void 0,i.m_VehicleNode=null,i.m_VehicleExit=0,i.m_CoinGlobal=0,i.m_VehicleId=0,i.m_vehicleCounter=0,i.m_OffsetCameraZ=-3,i.m_OffsetCameraX=-1,i.m_OffsetCameraY=10,i.m_IndexOffset=0,i}t(i,e);var s=i.prototype;return s.onLoad=function(){f.on(u.EventType.TOUCH_START,this.OnTouchDown,this),f.on(u.EventType.TOUCH_MOVE,this.OnTouchMove,this),f.on(u.EventType.TOUCH_END,this.OnTouchUp,this),f.on(u.EventType.KEY_DOWN,this.onKeyDown,this),this.firstLoad()},s.onKeyDown=function(e){switch(e.keyCode){case d.KEY_R:null!=q.instance||null!=J.instance||this.m_PokiManager.adsIsRunning||(this.m_PokiManager.sendEvent(j.POKIEVENTTYPE.gameplayStop),this.retryLevel());break;case d.ESCAPE:this.showShopPopup()}if(H.CHEAT_MODE)switch(e.keyCode){case d.KEY_C:localStorage.clear(),P("localStorage cleared");break;case d.KEY_O:this.addCoins(1e3),P("add okash");break;case d.KEY_W:this.GoToNextLevel()}},s.onDestroy=function(){H.TEST_MODE&&f.off(u.EventType.KEY_DOWN,this.onKeyDown,this)},s.firstLoad=function(){var e=this;b.load("trailsData",V,(function(i,t){e.m_allTrails=t.json,e.secondLoad()}))},s.secondLoad=function(){var e=this;b.load("skinsData",V,(function(i,t){e.m_allSkins=t.json,e.thirdLoad()}))},s.thirdLoad=function(){var e=this;b.load("levelsData",V,(function(i,t){e.m_allLevels=t.json,e.startAfterLoad()}))},s.startAfterLoad=function(){H.TEST_MODE&&(this.m_Index=this.m_LevelToTest),H.CLEAR_DATA&&this.ClearStorage(),this.m_VehicleId=0,this.LoadSave(),this.LoadLevel(),this.UpdateLevelLabel(this.m_Index),this.m_PokiManager.pokiEventStart(),this.m_uiManager.init(this)},s.update=function(e){},s.OnTouchDown=function(e){if(this.m_CurrentTouchID<0){this.m_CurrentTouchID=e.getID();var i=new v.Ray;this.m_Camera.screenPointToRay(e.getLocationX(),e.getLocationY(),i);if(this.m_ButtonPress=!0,C.instance.raycastClosest(i,4294967295,1e7,!0)){var t=C.instance.raycastClosestResult,r=t.collider,a=t.hitPoint;null==r.node.getComponent(X)||r.node.getComponent(X).m_MoveToExit||(this.m_MouseStartPosition=a.clone(),this.m_Vehicle=r.getComponent(X),this.m_VehicleNode=r.node,this.m_Vehicle.pressed(),this.m_SoundManager.playSound(E.VEHICLE_SELECTION))}}},s.OnTouchMove=function(e){if(this.m_CurrentTouchID==e.getID()&&null!=this.m_Vehicle&&null!=this.m_Vehicle.m_VehicleData){var i=new v.Ray;this.m_Camera.screenPointToRay(e.getLocationX(),e.getLocationY(),i);if(null!=this.m_MouseStartPosition&&this.m_ButtonPress){var t;if(C.instance.raycastClosest(i,4294967295,1e7,!0))t=C.instance.raycastClosestResult.hitPoint.clone();var r=this.m_MouseStartPosition.x-t.x,a=this.m_MouseStartPosition.z-t.z;if(g.distance(this.m_MouseStartPosition,t)>=this.m_DistanceSlide)this.m_Vehicle.CollisionDisable(),this.m_VehicleNode.eulerAngles.y<=-89?r<0?(this.m_MouseStartPosition=null,this.CheckCollisionGrid(1,0,this.m_Vehicle.m_VehicleData.m_NodeGridArray,90,!1,!0,0)):(this.m_MouseStartPosition=null,this.CheckCollisionGrid(-1,0,this.m_Vehicle.m_VehicleData.m_NodeGridArray,90,!0,!1,0)):a<0?(this.m_MouseStartPosition=null,this.CheckCollisionGrid(0,1,this.m_Vehicle.m_VehicleData.m_NodeGridArray,0,!1,!0,1)):(this.m_MouseStartPosition=null,this.CheckCollisionGrid(0,-1,this.m_Vehicle.m_VehicleData.m_NodeGridArray,0,!0,!1,1)),this.m_Ui.HideTutorial();else{var s=0;this.m_VehicleNode.eulerAngles.y<=-89?s=r/this.m_DistanceSlide:s+=a/this.m_DistanceSlide,this.m_Vehicle.PrepareToMove(s)}}}},s.OnTouchUp=function(e){this.m_CurrentTouchID==e.getID()&&(this.m_CurrentTouchID=-1,this.m_Vehicle&&(this.m_Vehicle.released(),this.m_ButtonPress=!1,this.m_Vehicle=null))},s.CheckCollisionGrid=function(e,i,t,r,a,s,n){for(var h=0,o=new Array,m=[],l=0;l<t.length;l++){var _=t[l].x,c=t[l].z;if(e+_<this.m_MainGrid.m_Row&&i+c<this.m_MainGrid.m_Col&&e+_>=0&&i+c>=0)o.push(this.m_MainGrid.m_GridArray[_+e][c+i]);else{var f=0;o=Object.assign([],t);for(var u=0;u<this.m_Vehicle.m_VehicleData.m_NodeGridArray.length;u++)if(this.m_Vehicle.m_VehicleData.m_NodeGridArray[u].m_Barriere){if(this.m_Vehicle.m_VehicleData.m_NodeGridArray[u].m_Barriere){if(this.CheckRotatioBarriere(o,n)){this.m_Vehicle.m_Game=this,this.m_Vehicle.m_MoveForward=a,this.m_Vehicle.m_MoveBackward=s,this.m_Vehicle.SetVehiclePosition(this.CalculatePosition(this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].x,this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].z,this.m_Vehicle.m_VehicleData.m_MaxLength,this.m_Vehicle.m_VehicleData.m_MaxWidth,r),!1,m,this.CollisionBarriere(n,this.m_Vehicle.m_VehicleData.m_NodeGridArray),e,i);break}this.m_Vehicle.m_MoveForward=a,this.m_Vehicle.m_MoveBackward=s,this.m_Vehicle.SetVehiclePosition(this.CalculatePosition(this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].x,this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].z,this.m_Vehicle.m_VehicleData.m_MaxLength,this.m_Vehicle.m_VehicleData.m_MaxWidth,r),!0,m,this.CollisionBarriere(n,this.m_Vehicle.m_VehicleData.m_NodeGridArray),e,i);break}}else if(++f==t.length){this.m_Vehicle.m_Game=this,this.m_Vehicle.m_MoveForward=a,this.m_Vehicle.m_MoveBackward=s,this.m_Vehicle.SetVehiclePosition(this.CalculatePosition(this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].x,this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].z,this.m_Vehicle.m_VehicleData.m_MaxLength,this.m_Vehicle.m_VehicleData.m_MaxWidth,r),!1,null,this.CollisionBarriere(n,this.m_Vehicle.m_VehicleData.m_NodeGridArray),e,i);break}}}for(var d=0;d<o.length;d++)o[d].m_Occupied?this.m_Vehicle!=o[d].m_Vehicle&&(m.push(o[d].m_Vehicle),this.m_Vehicle.m_MoveForward=a,this.m_Vehicle.m_MoveBackward=s,this.m_Vehicle.SetVehiclePosition(this.CalculatePosition(this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].x,this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].z,this.m_Vehicle.m_VehicleData.m_MaxLength,this.m_Vehicle.m_VehicleData.m_MaxWidth,r),!0,m,this.CollisionBarriere(n,o),e,i)):h++;if(h>=2){for(var P=0;P<this.m_Vehicle.m_VehicleData.m_NodeGridArray.length;P++)this.m_Vehicle.m_VehicleData.m_NodeGridArray[P].m_Occupied=!1,o[P].m_Vehicle=this.m_Vehicle;for(var b=0;b<o.length;b++)o[b].m_Occupied=!0,o[b].m_Vehicle=this.m_Vehicle;this.m_Vehicle.m_VehicleData.m_NodeGridArray=o,this.CheckCollisionGrid(e,i,this.m_Vehicle.m_VehicleData.m_NodeGridArray,r,a,s,n)}},s.CollisionBarriere=function(e,i){for(var t=[],r=0;r<i.length;r++)if(null!=i[r].m_Object){var a=i[r].m_Object.getComponent(w);i[r].m_Object.getComponent(W)?t.push(a):i[r].m_RotationBarriere!=e&&(t.push(a),t.push(a))}return t},s.CheckRotatioBarriere=function(e,i){for(var t=0,r=0,a=0;a<e.length;a++)if(e[a].m_Barriere){if(r++,e[a].m_RotationBarriere!=i)return!1;t++}return t/r==1},s.invert1DArray=function(e){for(var i=e,t=i.length,r=0;r<t/2;r++){var a=i[r];i[r]=i[t-r-1],i[t-r-1]=a}return i},s.rotateClockwise=function(e){for(var i=e.length,t=0;t<i/2;t++)for(var r=t;r<i-t-1;r++){var a=e[t][r];e[t][r]=e[i-r-1][t],e[i-r-1][t]=e[i-t-1][i-r-1],e[i-t-1][i-r-1]=e[r][i-t-1],e[r][i-t-1]=a}return e},s.rotate90Clockwise=function(e){for(var i=e.length,t=0;t<i/2;t++)for(var r=t;r<i-t-1;r++){var a=e[t][r];e[t][r]=e[i-1-r][t],e[i-1-r][t]=e[i-1-t][i-1-r],e[i-1-t][i-1-r]=e[r][i-1-t],e[r][i-1-t]=a}},s.LoadLevel=function(){var e;if(null!=this.m_allLevels)for(var i=0;i<this.m_allLevels.length;i++)if(console.log("this.m_allLevels[i].id",this.m_allLevels[i].id,this.m_Index),this.m_allLevels[i].id==this.m_Index){e=this.m_allLevels[i];break}null==e&&(e=Y.getNewLevel(this.m_Index)),this.CreateGrid(e),(this.m_Index+1)%10==0&&0!=this.m_Index&&this.m_uiManager.showBossLevelText()},s.CreateGrid=function(e){var i;e.inteverted?i=e.Patern:(i=this.invert1DArray(e.Patern),e.inteverted=!0);var t=i.length,r=i[0].length;this.m_MainGrid=new D(t,r),this.m_Parking=new L(this.m_NodeRoadParent,this.m_MainGrid),this.m_Spline=new x(this.m_MainGrid,this.m_OffsetX,this.m_OffsetZ,this.m_Tiles[4],this.m_Parking,this.m_NodeRoadParent,this.m_Object,this.m_Enviro),this.m_vehicleCounter=0;for(var a=0;a<t;a++)for(var s=0;s<r;s++)switch(this.m_Parking.CreateParking(a,s,this.m_Tiles,this.m_MainGrid,this.m_NodeParkingParent,this.m_OffsetX,this.m_OffsetZ),this.m_Parking.CreateRoad(a,s,this.m_Tiles,this.m_MainGrid,this.m_OffsetX,this.m_OffsetZ),i[a][s]){case 1:this.InstantiateBarriere(a,s,this.m_Prefab[3]);break;case 2:this.InstantiateObstacle(a,s,this.m_Prefab[6]);break;case 3:this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]);break;case 4:this.PositionVehicle(a,s,2,2,this.m_Prefab[0],180,4,4,e),this.m_vehicleCounter++;break;case 5:this.PositionVehicle(a,s,2,2,this.m_Prefab[0],270,5,4,e),this.m_vehicleCounter++;break;case 6:this.PositionVehicle(a,s,2,3,this.m_Prefab[1],180,6,6,e),this.m_vehicleCounter++;break;case 7:this.PositionVehicle(a,s,3,2,this.m_Prefab[1],270,7,6,e),this.m_vehicleCounter++;break;case 8:this.PositionVehicle(a,s,2,4,this.m_Prefab[2],180,8,8,e),this.m_vehicleCounter++;break;case 9:this.PositionVehicle(a,s,4,2,this.m_Prefab[2],270,9,8,e),this.m_vehicleCounter++;break;case 14:this.InstantiateBarriere(a,s,this.m_Prefab[3]),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],180,4,4,e),this.m_vehicleCounter++;break;case 15:this.InstantiateBarriere(a,s,this.m_Prefab[3]),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],270,5,4,e),this.m_vehicleCounter++;break;case 16:this.InstantiateBarriere(a,s,this.m_Prefab[3]),this.PositionVehicle(a,s,2,3,this.m_Prefab[1],180,6,6,e),this.m_vehicleCounter++;break;case 17:this.InstantiateBarriere(a,s,this.m_Prefab[3]),this.PositionVehicle(a,s,3,2,this.m_Prefab[1],270,7,6,e),this.m_vehicleCounter++;break;case 18:this.InstantiateBarriere(a,s,this.m_Prefab[3]),this.PositionVehicle(a,s,2,4,this.m_Prefab[2],180,8,8,e),this.m_vehicleCounter++;break;case 19:this.InstantiateBarriere(a,s,this.m_Prefab[3]),this.PositionVehicle(a,s,4,2,this.m_Prefab[2],270,9,8,e),this.m_vehicleCounter++;break;case 34:this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],180,4,4,e),this.m_vehicleCounter++;break;case 35:this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],270,5,4,e),this.m_vehicleCounter++;break;case 36:this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,2,3,this.m_Prefab[1],180,6,6,e),this.m_vehicleCounter++;break;case 37:this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,3,2,this.m_Prefab[1],270,7,6,e),this.m_vehicleCounter++;break;case 38:this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,2,4,this.m_Prefab[2],180,8,8,e),this.m_vehicleCounter++;break;case 39:this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,4,2,this.m_Prefab[2],270,9,8,e),this.m_vehicleCounter++;break;case"H":this.InstantiateBarriere(a,s,this.m_Prefab[3],"H");break;case"V":this.InstantiateBarriere(a,s,this.m_Prefab[3],"V");break;case"C":this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]);break;case"O":this.InstantiateObstacle(a,s,this.m_Prefab[6]);break;case"HO":this.InstantiateBarriere(a,s,this.m_Prefab[3],"H"),this.InstantiateObstacle(a,s,this.m_Prefab[6]);break;case"VO":this.InstantiateBarriere(a,s,this.m_Prefab[3],"V"),this.InstantiateObstacle(a,s,this.m_Prefab[6]);break;case"H4":this.InstantiateBarriere(a,s,this.m_Prefab[3],"H"),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],180,4,4,e),this.m_vehicleCounter++;break;case"V4":this.InstantiateBarriere(a,s,this.m_Prefab[3],"V"),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],180,4,4,e),this.m_vehicleCounter++;break;case"H5":this.InstantiateBarriere(a,s,this.m_Prefab[3],"H"),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],270,5,4,e),this.m_vehicleCounter++;break;case"V5":this.InstantiateBarriere(a,s,this.m_Prefab[3],"V"),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],270,5,4,e),this.m_vehicleCounter++;break;case"H6":this.InstantiateBarriere(a,s,this.m_Prefab[3],"H"),this.PositionVehicle(a,s,2,3,this.m_Prefab[1],180,6,6,e),this.m_vehicleCounter++;break;case"V6":this.InstantiateBarriere(a,s,this.m_Prefab[3],"V"),this.PositionVehicle(a,s,2,3,this.m_Prefab[1],180,6,6,e),this.m_vehicleCounter++;break;case"H7":this.InstantiateBarriere(a,s,this.m_Prefab[3],"H"),this.PositionVehicle(a,s,3,2,this.m_Prefab[1],270,7,6,e),this.m_vehicleCounter++;break;case"V7":this.InstantiateBarriere(a,s,this.m_Prefab[3],"V"),this.PositionVehicle(a,s,3,2,this.m_Prefab[1],270,7,6,e),this.m_vehicleCounter++;break;case"H8":this.InstantiateBarriere(a,s,this.m_Prefab[3],"H"),this.PositionVehicle(a,s,2,4,this.m_Prefab[2],180,8,8,e),this.m_vehicleCounter++;break;case"V8":this.InstantiateBarriere(a,s,this.m_Prefab[3],"V"),this.PositionVehicle(a,s,2,4,this.m_Prefab[2],180,8,8,e),this.m_vehicleCounter++;break;case"V9":this.InstantiateBarriere(a,s,this.m_Prefab[3],"V"),this.PositionVehicle(a,s,4,2,this.m_Prefab[2],270,9,8,e),this.m_vehicleCounter++;break;case"H9":this.InstantiateBarriere(a,s,this.m_Prefab[3],"H"),this.PositionVehicle(a,s,4,2,this.m_Prefab[2],270,9,8,e),this.m_vehicleCounter++;break;case"C4":this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],180,4,4,e),this.m_vehicleCounter++;break;case"C5":this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,2,2,this.m_Prefab[0],270,5,4,e),this.m_vehicleCounter++;break;case"C6":this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,2,3,this.m_Prefab[1],180,6,6,e),this.m_vehicleCounter++;break;case"C7":this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,3,2,this.m_Prefab[1],270,7,6,e),this.m_vehicleCounter++;break;case"C8":this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,2,4,this.m_Prefab[2],180,8,8,e),this.m_vehicleCounter++;break;case"C9":this.InstantiateBarriereCorner(a,s,this.m_Prefab[7]),this.PositionVehicle(a,s,4,2,this.m_Prefab[2],270,9,8,e),this.m_vehicleCounter++}this.SetupCamera(t),this.SetupLight(),this.m_Parking.CreationEnvironnement(this.m_Enviro,this.m_NodeEnviroParent),this.SetEndParkingVehicle(),this.SetSkinAndTrailVehicle(),this.unschedule(this.StartTutorial),this.scheduleOnce(this.StartTutorial,.2)},s.SetupLight=function(){for(var e=this.m_MainLight.color.toString(),i=this.m_MainLight.colorTemperature,t=this.m_MainLight.illuminance,r=["FFFAF0","FF001F","2900FF","FF8500"],a=[6550,1827,15e3,15e3],s=[1.692708,.39,.79,3.09],n=[9,13,20,24],h=this.m_Index;h>24;)h-=24;for(var o=0;o<n.length;o++)if(!(h>n[o])){e=r[o],i=a[o],t=s[o];break}this.m_MainLight.useColorTemperature=!0,this.m_MainLight.color=new p(e),this.m_MainLight.colorTemperature=i,this.m_MainLight.illuminance=t},s.SetSkinAndTrailVehicle=function(){""==K.getItem("usingTrail","")&&K.saveItem("usingTrail","0"),this.SetVehicleTrail(parseInt(K.getItem("usingTrail","0"))),""==K.getItem("usingSkin","")&&K.saveItem("usingSkin","0"),this.SetVehicleSkin(parseInt(K.getItem("usingSkin","0")))},s.StartTutorial=function(){if(0===this.m_Index){var e=y("Vehicle_5_1");this.m_Ui.PlayTutorial(e)}},s.SetupCamera=function(e){var i,t,r;if(G.windowSize.width<G.windowSize.height){this.m_Camera.fov=60,e!=this.m_IndexOffset?(i=.5-.11*e,t=10+1.8*e,r=-1-.5*e,this.m_OffsetCameraX=i,this.m_OffsetCameraY=t,this.m_OffsetCameraZ=r,this.m_IndexOffset=e):(i=this.m_OffsetCameraX,t=this.m_OffsetCameraY,r=this.m_OffsetCameraZ);var a=new k;k.fromEuler(a,-75,-170,0)}else{e!=this.m_IndexOffset?(i=-1-.1*e,t=10+1*e,r=-3-.5*e,this.m_OffsetCameraX=i,this.m_OffsetCameraY=t,this.m_OffsetCameraZ=r,this.m_IndexOffset=e):(i=this.m_OffsetCameraX,t=this.m_OffsetCameraY,r=this.m_OffsetCameraZ);a=new k;k.fromEuler(a,-65,-170,0)}this.m_Camera.node.setPosition(new g(i,t,r)),this.m_Camera.node.lookAt(new g(0,0,0)),this.m_Camera.node.setRotation(a)},s.PositionVehicle=function(e,i,t,r,a,s,n,h,o){var m=0;if(this.m_VehicleId=0,!this.m_MainGrid.m_GridArray[e][i].m_Occupied)for(var l=new Array,_=0;_<t;_++)for(var c=0;c<r;c++)if(e+_<this.m_MainGrid.m_Row&&i+c<this.m_MainGrid.m_Col){var f="string"==typeof o.Patern[e+_][i+c]&&o.Patern[e+_][i+c].includes(n.toString()),u="number"==typeof o.Patern[e+_][i+c]&&(Math.abs(o.Patern[e+_][i+c])==n||Math.abs(o.Patern[e+_][i+c])==n+10||Math.abs(o.Patern[e+_][i+c])==n+30);if((f||u)&&(l[m]=this.m_MainGrid.m_GridArray[e+_][i+c],++m===h)){this.m_VehicleId++;var d=M(a);d.name="Vehicle_"+n+"_"+this.m_VehicleId;var P=d.getComponent(X),b=new z(l,h,t,r,P);this.m_MainGrid.m_NumberOfVehicle++,this.m_MainGrid.m_VehicleArray.push(d),this.m_Object.push(d),P.m_VehicleData=b,P.m_Spline=this.m_Spline,P.m_SoundManager=this.m_SoundManager,P.m_ShakeCamera=this.m_ShakeCamera,d.parent=S.getScene(),d.setPosition(this.CalculatePosition(e,i,t,r,s));var V=k.fromEuler(new k,0,s,0);d.setRotation(V)}}},s.SetEndParkingVehicle=function(){for(var e=0;e<this.m_MainGrid.m_VehicleArray.length;e++)this.m_MainGrid.m_VehicleArray[e].getComponent(X).m_EndParking=this.m_Parking.m_Endpark},s.CalculatePosition=function(e,i,t,r,a){var s;if(90==a||-90==a||270==a){var n=(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX+this.m_MainGrid.m_GridArray[e+(t-1)][i].m_PosX*this.m_OffsetX)/2,h=(this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ+this.m_MainGrid.m_GridArray[e][i+(r-1)].m_PosZ*this.m_OffsetZ)/2;s=new g(n,0,h)}else{var o=(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX+this.m_MainGrid.m_GridArray[e+(t-1)][i].m_PosX*this.m_OffsetX)/2,m=(this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ+this.m_MainGrid.m_GridArray[e][i+(r-1)].m_PosZ*this.m_OffsetZ)/2;s=new g(o,0,m)}return s},s.InstantiateBarriere=function(e,i,t,r){void 0===r&&(r=null),this.m_MainGrid.m_GridArray[e][i].m_Barriere=!0;var a=M(t);if(a.setParent(this.m_NodeRoadParent),this.m_MainGrid.m_GridArray[e][i].m_Object=a,this.m_Object.push(a),0==i?a.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ-.5):a.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ+.5),i>0&&i<this.m_MainGrid.m_Col-1&&e>=0){0==e?a.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX-.5,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ):a.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX+.5,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ);var s=k.fromEuler(new k,0,90,0);a.setRotation(s),this.m_MainGrid.m_GridArray[e][i].m_RotationBarriere=1}if(null!=r)if("H"==r){var n=k.fromEuler(new k,0,90,0);a.setRotation(n),this.m_MainGrid.m_GridArray[e][i].m_RotationBarriere=1,0==e&&0==i&&a.translate(new g(-.5,0,-.5)),e==this.m_MainGrid.m_Row-1&&i==this.m_MainGrid.m_Col-1&&a.translate(new g(.5,0,.5)),0==e&&i==this.m_MainGrid.m_Col-1&&a.translate(new g(.5,0,-.5)),e==this.m_MainGrid.m_Row-1&&0==i&&a.translate(new g(-.5,0,.5))}else if("V"==r){var h=k.fromEuler(new k,0,0,0);a.setRotation(h)}},s.InstantiateBarriereCorner=function(e,i,t){this.m_MainGrid.m_GridArray[e][i].m_Barriere=!0;var r=M(t);if(r.setParent(this.m_NodeRoadParent),this.m_MainGrid.m_GridArray[e][i].m_Object=r,this.m_Object.push(r),0==i&&e>=this.m_MainGrid.m_Row-1)r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX+.571*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ-.61);else if(0==i&&0==e){r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX-.61,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ-.545);var a=k.fromEuler(new k,0,90,0);r.setRotation(a)}else if(i>=this.m_MainGrid.m_Col-1&&0==e){r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX-.544,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ+.636);var s=k.fromEuler(new k,0,180,0);r.setRotation(s)}else if(i>=this.m_MainGrid.m_Col-1&&e>=this.m_MainGrid.m_Row-1){r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX+.631,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ+.57);var n=k.fromEuler(new k,0,-90,0);r.setRotation(n)}this.m_MainGrid.m_GridArray[e][i].m_RotationBarriere=2},s.InstantiateObstacle=function(e,i,t){this.m_MainGrid.m_GridArray[e][i].m_Occupied=!0;var r=M(t);this.m_MainGrid.m_GridArray[e][i].m_Object=r,r.setParent(this.m_NodeEnviroParent),r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ),this.m_Object.push(r)},s.InstantiateDebugGrid=function(e,i,t,r){var a=M(e);a.parent=S.getScene(),a.setPosition(this.m_MainGrid.m_GridArray[i][t].m_PosX*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[i][t].m_PosZ*this.m_OffsetZ);var s=k.fromEuler(new k,0,r,0);a.setRotation(s),this.m_Object.push(a)},s.EndLevel=function(){var e=this;this.m_VehicleExit++,this.m_VehicleExit==this.m_MainGrid.m_NumberOfVehicle&&(this.m_VehicleExit=0,this.scheduleOnce((function(){e.m_VictoryParticles.getComponent(Z).play(),N.instance.playSound("LevelCompleted",.5)}),.4),this.m_PokiManager.sendEvent(j.POKIEVENTTYPE.gameplayStop),this.m_uiManager.showEndLevelPopup(this.m_vehicleCounter,(function(){e.GoToNextLevel()})))},s.showShopPopup=function(){this.m_uiManager.showShopPopup()},s.GoToNextLevel=function(){var e=this,i=I(this.m_BackGround.getComponent(O)).to(.5,{opacity:255}),t=I().call((function(){e.NextLevel()})).delay(.8),r=I(this.m_BackGround.getComponent(O)).to(.5,{opacity:0});I(this.m_BackGround.getComponent(O)).sequence(i,t,r).start()},s.DestroyAllObjectInScene=function(){for(var e=0;e<this.m_Parking.m_Objects.length;e++)this.m_Parking.m_Objects[e].destroy();for(var i=0;i<this.m_Object.length;i++)this.m_Object[i].destroy();this.m_Object.length=0},s.NextLevel=function(){this.m_Index++,this.DestroyAllObjectInScene(),this.LoadLevel(),this.UpdateLevelLabel(this.m_Index),this.Save(),this.m_PokiManager.pokiEventStart()},s.onClickRetry=function(e,i){this.retryLevel()},s.retryLevel=function(){this.m_VehicleExit=0,this.DestroyAllObjectInScene(),this.LoadLevel(),this.UpdateLevelLabel(this.m_Index),this.Save(),this.m_PokiManager.pokiEventStart()},s.addCoins=function(e){this.m_CoinGlobal+=e,this.UpdateCoinLabel(this.m_CoinGlobal.toString()),K.saveItem("gold",this.m_CoinGlobal.toString()),this.m_uiManager.checkShowShopWarningIcon(this.m_CoinGlobal)},s.removeCoins=function(e){this.addCoins(-e)},s.UpdateCoinLabel=function(e){this.m_Ui.UpdateCoinUi(e)},s.UpdateLevelLabel=function(e){this.m_Ui.UpdateLevelLabel(e)},s.Save=function(){K.saveItem("gold",this.m_CoinGlobal.toString()),K.saveItem("Level",this.m_Index.toString())},s.LoadSave=function(){var e=K.getItem("gold","0");this.m_CoinGlobal=parseInt(e),this.UpdateCoinLabel(e);var i=K.getItem("Level","0");H.TEST_MODE||(this.m_Index=parseInt(i))},s.ClearStorage=function(){A.localStorage.clear(),A.localStorage.setItem("gold","0"),A.localStorage.setItem("Level","0"),A.localStorage.setItem("usingTrail","0"),A.localStorage.setItem("usingSkin","0")},s.SetVehicleTrail=function(e){var i=this.m_allTrails[e];null==i&&(i=this.m_allTrails[0]),this.ChangeTrail(i)},s.ChangeTrail=function(e){P("ChangeTrail",e.name);for(var i=0;i<this.m_TrailArray.length;i++)if(this.m_TrailArray[i].name==e.name){this.m_Trail=this.m_TrailArray[i];break}this.ChangeVehicleTrails()},s.ChangeVehicleTrails=function(){var e=this;this.m_MainGrid.m_VehicleArray.forEach((function(i){var t=i.getComponent(X),r=i.getChildByName("FeedBack");t.ChangeSkinTrailVehicule(e.m_Trail,r)}))},s.SetVehicleSkin=function(e){var i=this.m_allSkins[e];null==i&&(i=this.m_allSkins[0]),this.ChangeSkin(i)},s.ChangeSkin=function(e){var i=this;this.m_VehiclePack.forEach((function(t){t.m_NamePack==e.name&&(i.m_PackVehicleSelect=t.m_VehiclePack)})),this.ChangeVehicleSkins()},s.ChangeVehicleSkins=function(){var e=this;this.m_MainGrid.m_VehicleArray.forEach((function(i){var t=i.getComponent(X),r=i.getChildByName("Body");switch(t.m_SizeVehicle){case 0:t.ChangeSkinVehicle(e.m_PackVehicleSelect[0],r);break;case 1:t.ChangeSkinVehicle(e.m_PackVehicleSelect[1],r);break;case 2:t.ChangeSkinVehicle(e.m_PackVehicleSelect[2],r)}}))},i}(T)).prototype,"m_uiManager",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=i(pe.prototype,"m_SoundManager",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=i(pe.prototype,"m_PokiManager",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=i(pe.prototype,"m_ShakeCamera",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=i(pe.prototype,"m_MainLight",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=i(pe.prototype,"m_DistanceSlide",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Oe=i(pe.prototype,"m_Index",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ae=i(pe.prototype,"m_LevelToTest",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Te=i(pe.prototype,"m_Camera",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=i(pe.prototype,"m_Prefab",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Le=i(pe.prototype,"m_Tiles",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=i(pe.prototype,"m_Enviro",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Be=i(pe.prototype,"m_Ui",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=i(pe.prototype,"m_BackGround",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i(pe.prototype,"m_OffsetX",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),xe=i(pe.prototype,"m_OffsetZ",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.5}}),Re=i(pe.prototype,"m_VictoryParticles",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=i(pe.prototype,"m_NodeRoadParent",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(pe.prototype,"m_NodeParkingParent",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=i(pe.prototype,"m_NodeEnviroParent",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=i(pe.prototype,"m_TrailArray",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=i(pe.prototype,"m_VehiclePack",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=pe))||ge));s._RF.pop()}}}));

System.register("chunks:///_virtual/Grid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeObject.ts","./Vehicle.ts"],(function(r){var e,i,t,n,o,c,a;return{setters:[function(r){e=r.applyDecoratedDescriptor,i=r.initializerDefineProperty},function(r){t=r.cclegacy,n=r._decorator,o=r.CCInteger},function(r){c=r.NodeObject},function(r){a=r.Vehicle}],execute:function(){var u,l,s,p,f,h,y,m,_;t._RF.push({},"650ef0IVPVH36TPtkmauz2i","Grid",void 0);var d=n.ccclass,b=n.property;r("Grid",(u=d("Grid"),l=b({type:a}),s=b({type:o}),p=b({type:o}),u((y=e((h=function(){function r(r,e){this.m_GridArray=new Array,i(this,"m_VehicleArray",y,this),i(this,"m_Row",m,this),i(this,"m_Col",_,this),this.m_NumberOfVehicle=0,this.SetGrid(r,e),this.m_Row=r,this.m_Col=e}return r.prototype.SetGrid=function(r,e){for(var i=0;i<r;i++){this.m_GridArray[i]=[];for(var t=0;t<e;t++)if(i>=0&&t>=0){var n=new c(i,t,-(r-1)/2+i,-(e-1)/2+t);this.m_GridArray[i][t]=n}}},r}()).prototype,"m_VehicleArray",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array}}),m=e(h.prototype,"m_Row",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=e(h.prototype,"m_Col",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=h))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/InterfaceUser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Anim.ts"],(function(e){var t,n,i,r,a,o,l,u,c,s,m,p,_,f,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.UITransform,u=e.Camera,c=e.Label,s=e.Sprite,m=e.Node,p=e.tween,_=e.Vec3,f=e.Animation,g=e.Component},function(e){h=e.Anim}],execute:function(){var b,v,d,C,y,T,w,F,L,x,z,I,U,k,A,B,P;a._RF.push({},"873567XdhlL370k1npjpQbw","InterfaceUser",void 0);var R=o.ccclass,D=o.property;e("InterfaceUser",(b=R("InterfaceUser"),v=D(l),d=D(u),C=D(c),y=D(c),T=D(s),w=D(m),F=D(m),b((z=t((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"m_Canvas",z,r(t)),i(t,"m_Camera",I,r(t)),i(t,"m_CoinText",U,r(t)),i(t,"m_LevelText",k,r(t)),i(t,"m_Background",A,r(t)),i(t,"m_Finger",B,r(t)),i(t,"m_Target",P,r(t)),t}n(t,e);var a=t.prototype;return a.start=function(){var e=this.m_Background.getComponent(l);e.width=this.m_Canvas.width,e.height=this.m_Canvas.height,this.m_Finger.active=!1,this.m_Camera},a.update=function(e){},a.UpdateCoinUi=function(e){this.m_CoinText.string=e,p(this.m_CoinText.node).stop(),p(this.m_CoinText.node).to(.2,{scale:new _(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.2,{scale:new _(1,1,1)}).union().repeat(1).start()},a.UpdateLevelLabel=function(e){this.m_LevelText.string="Level : "+(e+1)},a.PlayTutorial=function(e){this.m_Finger.active=!0;var t=this.m_Camera.convertToUINode(e.worldPosition,this.m_Canvas.node);this.m_Finger.position=t,this.m_Finger.getComponent(f).play(h.FINGER_RIGHT)},a.HideTutorial=function(){this.m_Finger.active=!1},t}(g)).prototype,"m_Canvas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(x.prototype,"m_Camera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(x.prototype,"m_CoinText",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"m_LevelText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(x.prototype,"m_Background",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(x.prototype,"m_Finger",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(x.prototype,"m_Target",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=x))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/IntroAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,o,a,r,s,c,l,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.CCFloat,c=t.Vec3,l=t.tween,u=t.Component}],execute:function(){var p,h,d,f,y;a._RF.push({},"8742bg8DlpG4KQw73bO/SR0","IntroAnimation",void 0);var v=r.ccclass,m=r.property;t("IntroAnimation",(p=v("IntroAnimation"),h=m(s),p((y=n((f=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"delay",y,o(n)),n.position=new c(0,0,0),n.scale=new c(0,0,0),n}e(n,t);var a=n.prototype;return a.onLoad=function(){this.scale=this.node.scale.clone(),this.position=this.node.position.clone(),this.node.scale=new c(this.scale.x,0,this.scale.z)},a.start=function(){this.node.active=!0,l(this.node).delay(this.delay).to(.6,{scale:this.scale},{easing:"backOut",onStart:function(t){t.active=!0},onUpdate:function(t){},onComplete:function(t){}}).start()},n}(u)).prototype,"delay",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/Knot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vehicle.ts"],(function(e){var t,i,n,r,o,c,l,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,l=e.Component},function(e){a=e.Vehicle}],execute:function(){var s,p,u,m,h;o._RF.push({},"4961cty0WlLpK7RWJOJWEnT","Knot",void 0);var _=c.ccclass,y=c.property;e("Knot",(s=_("Knot"),p=y(a),s((h=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).m_notSpline=null,t.m_Timer=0,t.m_MaxTimer=.55,n(t,"m_Vehicles",h,r(t)),t}return i(t,e),t.prototype.update=function(e){this.m_notSpline.m_VehicleOnMyRoad&&(this.m_Timer+=1*e,this.m_Timer>=this.m_MaxTimer&&(this.m_notSpline.m_VehicleOnMyRoad=!1,this.m_Timer=0))},t}(l)).prototype,"m_Vehicles",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array}}),u=m))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/KnotSpline.ts",["cc","./Knot.ts"],(function(t){var o,n,i,s,e,m;return{setters:[function(t){o=t.cclegacy,n=t._decorator,i=t.Vec3,s=t.instantiate,e=t.Node},function(t){m=t.Knot}],execute:function(){var r;o._RF.push({},"2f590kUU5ZCTJmL3hKB02bX","KnotSpline",void 0);var _=n.ccclass;n.property,t("KnotSpline",_("KnotSpline")(r=function(){function t(t,o,n,i,s,e,m,r,_,h){this.m_Grid=null,this.m_Vec=null,this.m_Rotation=null,this.m_Knot=null,this.m_VehicleOnMyRoad=!1,this.m_KnotComponent=null,this.m_CoordX=0,this.m_CoordZ=0,this.m_PosX=0,this.m_PosZ=0,this.m_CoordX=o,this.m_CoordZ=n,this.m_Grid=t,this.m_Rotation=r,this.SetPositionKnot(o,n,i,s,e,m),this.CreateKnotComponent(_,h)}var o=t.prototype;return o.SetPositionKnot=function(t,o,n,s,e,m){this.m_PosX=this.m_Grid.m_GridArray[t][o].m_PosX*n+e,this.m_PosZ=this.m_Grid.m_GridArray[t][o].m_PosZ*s+m,this.m_Vec=new i(this.m_PosX,0,this.m_PosZ)},o.CreateKnotComponent=function(t,o){var n=s(new e("Knot"));n.setParent(t),n.addComponent("Knot"),this.m_Knot=n.getComponent(m),this.m_Knot.m_notSpline=this,n.setPosition(this.m_PosX,0,this.m_PosZ),this.m_KnotComponent=n,o.push(n)},t}())||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/Level.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ce403Uehm5DIZ3F+XCrhKPe","Level",void 0);e("Level",(function(){this.Row=void 0,this.Col=void 0,this.OffsetCamera=void 0,this.OffsetRota=void 0,this.Patern=void 0,this.inteverted=!1}));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./DemoScript.ts","./PokiPlatform.ts","./ActiveExitVehicleFeedBack.ts","./ActiveOnOrientation.ts","./Anim.ts","./Barriere.ts","./Constants.ts","./CreationParking.ts","./Game.ts","./Grid.ts","./InterfaceUser.ts","./IntroAnimation.ts","./Knot.ts","./Level.ts","./MovingCamera.ts","./MuteButton.ts","./NodeObject.ts","./ObjectOnParking.ts","./Obstacle.ts","./OrientationWidget.ts","./PlayerInfo.ts","./PokiManager.ts","./BasePopup.ts","./EndLevelPopup.ts","./OkPopup.ts","./ShopPopup.ts","./ShopSkinIconPrefab.ts","./ShopTrailIconPrefab.ts","./YesNoPopup.ts","./ProceduralLevel.ts","./ShakeScreen.ts","./Singleton.ts","./Smiley.ts","./Sound.ts","./SoundManager.ts","./KnotSpline.ts","./Spline.ts","./UIManager.ts","./Vehicle.ts","./VehicleData.ts","./VehiclePack.ts","./Vibrations.ts","./VictoryParticles.ts","./CanvasTest.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MovingCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.Vec3,a=e.NodeSpace,c=e.Component}],execute:function(){var i;n._RF.push({},"1e8ef0gtZNN37adOl7rFDlf","MovingCamera",void 0);var s=r.ccclass;r.property,e("MovingCamera",s("MovingCamera")(i=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.update=function(e){this.node.translate(new o(-4*e,0,0),a.WORLD)},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/MuteButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./SoundManager.ts"],(function(t){var e,n,i,u,o,c,r,s,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,u=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,r=t.Node,s=t.Component},function(t){a=t.default},function(t){l=t.SoundManager}],execute:function(){var d,m,h,f,p,v,I;o._RF.push({},"94f58u3f2ZAubiVgO1R/OIn","MuteButton",void 0);var M=c.ccclass,g=c.property;t("MuteButton",(d=M("MuteButton"),m=g(r),h=g(r),d((v=e((p=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"mutedIcon",v,u(e)),i(e,"unmutedIcon",I,u(e)),e.isMuted=!1,e}n(e,t);var o=e.prototype;return o.start=function(){a.getInstance().mute?(this.isMuted=!0,this.mutedIcon.active=!0,this.unmutedIcon.active=!1,this.mute()):(this.isMuted=!1,this.mutedIcon.active=!1,this.unmutedIcon.active=!0)},o.onClick=function(t,e){this.isMuted?(this.unmute(),this.isMuted=!1,this.mutedIcon.active=!1,this.unmutedIcon.active=!0):(this.mute(),this.isMuted=!0,this.mutedIcon.active=!0,this.unmutedIcon.active=!1)},o.mute=function(){l.instance.mute()},o.unmute=function(){l.instance.unmute()},e}(s)).prototype,"mutedIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(p.prototype,"unmutedIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/NodeObject.ts",["cc"],(function(t){var e,i,o;return{setters:[function(t){e=t.cclegacy,i=t._decorator,o=t.Enum}],execute:function(){var s;e._RF.push({},"66928jcUxlFW6T25XUtLtQL","NodeObject",void 0);var c=i.ccclass,r=(i.property,t("NodeObject",c("NodeObject")(s=function(t,e,i,o){this.x=1,this.z=1,this.m_PosX=0,this.m_PosZ=0,this.m_Occupied=!1,this.m_Barriere=!1,this.m_Object=null,this.m_RotationBarriere=r.Horizontal,this.x=t,this.z=e,this.m_PosX=i,this.m_PosZ=o})||s),o({Horizontal:0,Vertical:1,Both:2,none:3}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectOnParking.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,i,r,t,o,c,a,l;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,r=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){o=n.cclegacy,c=n._decorator,a=n.Animation,l=n.Component}],execute:function(){var s,u,p,f,m;o._RF.push({},"45b94S+rcdL4LoyKEDh4waA","ObjectOnParking",void 0);var y=c.ccclass,b=c.property;n("ObjectOnParking",(s=y("ObjectOnParking"),u=b(a),s((m=e((f=function(n){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o))||this,r(e,"m_Anim",m,t(e)),e.AnimName=null,e}return i(e,n),e.prototype.CollisionVehicle=function(){},e}(l)).prototype,"m_Anim",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Obstacle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectOnParking.ts","./Anim.ts"],(function(t){var n,e,i,c,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){c=t.ObjectOnParking},function(t){r=t.Anim}],execute:function(){var s;e._RF.push({},"bb5b0qXpthBc4tJExIBuvXc","Obstacle",void 0);var o=i.ccclass;i.property,t("Obstacle",o("Obstacle")(s=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(n=t.call.apply(t,[this].concat(i))||this).AnimName=null,n}return n(e,t),e.prototype.CollisionVehicle=function(){null!=this.m_Anim&&(this.AnimName=r.PYLONE_HIT),this.m_Anim.play(this.AnimName)},e}(c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/OkPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopup.ts"],(function(e){var t,o,p,i,n,r,l,a,u,s,c,P,k,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,p=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,l=e.Label,a=e.RichText,u=e.Button,s=e.instantiate,c=e.director,P=e.log,k=e.UITransform,h=e.resources},function(e){g=e.BasePopup}],execute:function(){var m,y,b,f,d,T,O,_,v,B,C,x;n._RF.push({},"98705n5Qe9KwKy4bqxRLWuB","OkPopup",void 0);var z=r.ccclass,w=r.property;e("OkPopup",(m=z("OkPopup"),y=w({type:l}),b=w({type:a}),f=w({type:u}),d=w({type:l}),m(((x=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p(t,"m_TitleText",_,i(t)),p(t,"m_MessageText",v,i(t)),p(t,"m_OkButton",B,i(t)),p(t,"m_OkText",C,i(t)),t}o(t,e),t.create=function(e,o,p,i){t.okPopupTitle=e,t.okPopupMessage=o,t.okPopupOk=p,t.okPopupCloseCallback=i,h.load("Popups/OkPopup",t.onPrefabLoaded)};var n=t.prototype;return n.initOkPopup=function(t,o,p,i){this.m_TitleText.string=t,this.m_MessageText.string="<color=#4B4B4B>"+o+"</color>",this.m_OkText.string=p,this.m_OkButton.node.on(u.EventType.CLICK,this.closePopup,this),e.prototype.initPopup.call(this,void 0,i),e.prototype.showPopup.call(this)},n.showPopup=function(){e.prototype.showPopup.call(this)},n.closePopup=function(){this.m_OkButton.interactable=!1,e.prototype.closePopup.call(this)},t}(g)).okPopupTitle=void 0,x.okPopupMessage=void 0,x.okPopupOk=void 0,x.okPopupCloseCallback=void 0,x.onPrefabLoaded=function(e,t){var o=s(t);o.setParent(c.getScene().getChildByPath("UIGame/PopupContainer")),P("contentSize",o.getComponent(k).contentSize),P("contentSize",c.getScene().getChildByPath("UIGame").getComponent(k).contentSize),o.getComponent(x).initOkPopup(x.okPopupTitle,x.okPopupMessage,x.okPopupOk,x.okPopupCloseCallback)},_=t((O=x).prototype,"m_TitleText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(O.prototype,"m_MessageText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(O.prototype,"m_OkButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(O.prototype,"m_OkText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=O))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/OrientationWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,c,d,l,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Widget,d=t.log,l=t.screen,s=t.Component}],execute:function(){var u,p,g,h,w,f,b;o._RF.push({},"b8dd5JSXNlDVL6QzdB6hJ2/","OrientationWidget",void 0);var y=a.ccclass,z=a.property;t("OrientationWidget",(u=y("OrientationWidget"),p=z({type:c}),g=z({type:c}),u((f=e((w=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"widgetLanscape",f,r(e)),n(e,"widgetPortrait",b,r(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.onOrientationChange()},o.start=function(){},o.onOrientationChange=function(){d("onOrientationChange",this.name,this.node,l),this.widgetLanscape.enabled=!1,this.widgetPortrait.enabled=!1,l.windowSize.width>=l.windowSize.height&&(this.widgetLanscape.enabled=!0),l.windowSize.width<l.windowSize.height&&(this.widgetPortrait.enabled=!0)},e}(s)).prototype,"widgetLanscape",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(w.prototype,"widgetPortrait",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=w))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerInfo.ts",["cc"],(function(t){var r,e,c;return{setters:[function(t){r=t.cclegacy,e=t._decorator,c=t.log}],execute:function(){var n;r._RF.push({},"133fctgIeJMdphYQt/CqK4a","PlayerInfo",void 0);var o=e.ccclass;e.property,t("PlayerInfo",o("PlayerInfo")(n=function(){function t(){}return t.saveItem=function(t,r){try{localStorage.setItem(t,r)}catch(t){c(t,"error")}},t.getItem=function(t,r){void 0===r&&(r="");try{var e=localStorage.getItem(t);return"NaN"==e||null==e?r:e}catch(t){c(t,"error")}return r},t}())||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/PokiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PokiPlatform.ts","./Constants.ts"],(function(a){var e,n,r,t,o,i,s;return{setters:[function(a){e=a.inheritsLoose},function(a){n=a.cclegacy,r=a._decorator,t=a.game,o=a.Component},function(a){i=a.CCPokiSDK},function(a){s=a.default}],execute:function(){var c,l;n._RF.push({},"b7dcesBkmZLU4P3ggQ8yFM8","PokiManager",void 0);var u=r.ccclass,k=(r.property,function(a){return a[a.gameplayStart=0]="gameplayStart",a[a.gameplayStop=1]="gameplayStop",a[a.commercialBreak=2]="commercialBreak",a[a.rewardedBreak=3]="rewardedBreak",a}(k||{}));a("PokiManager",u("PokiManager")(((l=function(a){function n(){for(var e,n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return(e=a.call.apply(a,[this].concat(r))||this).rewardCallback=void 0,e.adsIsRunning=!1,e}e(n,a);var r=n.prototype;return r.start=function(){s.POKI&&(t.on(i.EVENT_REWARD_BREAK_DONE,this.onRewardBreakDone,this),t.on(i.EVENT_COMMERCIAL_BREAK_DONE,this.onCommercialBreakDone,this))},r.sendEvent=function(a,e){if(s.POKI&&null!=window.PokiSDK)switch(a){case k.gameplayStart:i.gameplayStart();break;case k.gameplayStop:i.gameplayStop();break;case k.commercialBreak:this.adsIsRunning=!0,i.commercialBreak();break;case k.rewardedBreak:this.adsIsRunning=!0,this.rewardCallback=e,i.rewardBreak()}},r.onRewardBreakDone=function(){if(s.POKI){var a=arguments[0];a&&null!=this.rewardCallback&&this.rewardCallback()}},r.onCommercialBreakDone=function(){s.POKI&&(this.adsIsRunning=!1,this.sendEvent(k.gameplayStart))},r.pokiEventStart=function(){var a=this;s.POKI&&this.sendEvent(k.commercialBreak,(function(){a.adsIsRunning=!1,a.sendEvent(k.gameplayStart)}))},n}(o)).POKIEVENTTYPE=k,c=l))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/PokiPlatform.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.game}],execute:function(){t._RF.push({},"5a510DDQhJLeKan+foOx3ch","PokiPlatform",void 0);var r=window.PokiSDK,a=e("CCPokiSDK",function(){function e(){}return e.rewardBreak=function(){try{var t=n;r.rewardedBreak().then((function(n){t.emit(e.EVENT_REWARD_BREAK_DONE,n)}))}catch(e){console.log(e)}},e.commercialBreak=function(){var t=n;r.commercialBreak().then((function(){t.emit(e.EVENT_COMMERCIAL_BREAK_DONE)}))},e.gameplayStop=function(){r.gameplayStop()},e.gameplayStart=function(){r.gameplayStart()},e.shareableURL=function(t){var a=n;r.shareableURL(t).then((function(t){console.log(t),a.emit(e.EVENT_SHRABLE_URL_READY,t)}))},e.isAdBlocked=function(){return r.isAdBlocked()},e.getURLParam=function(e){return r.getURLParam(e)},e}());a.EVENT_REWARD_BREAK_DONE="prbr",a.EVENT_COMMERCIAL_BREAK_DONE="pcvr",a.EVENT_SHRABLE_URL_READY="psur",t._RF.pop()}}}));

System.register("chunks:///_virtual/ProceduralLevel.ts",["cc","./Level.ts"],(function(e){var i,n,t,h;return{setters:[function(e){i=e.cclegacy,n=e.pseudoRandomRangeInt,t=e.Vec2},function(e){h=e.Level}],execute:function(){i._RF.push({},"864eayPcQBDfLWrrlK9FqjM","ProceduralLevel",void 0);var r=function(e){return e[e.FourthCells=4]="FourthCells",e[e.FourthCells90=5]="FourthCells90",e[e.SixCells=6]="SixCells",e[e.SixCells90=7]="SixCells90",e[e.EightCells=8]="EightCells",e[e.EightCells90=9]="EightCells90",e}(r||{}),l=e("default",function(){function e(){}return e.getNewLevel=function(e){this.createSeed(e);var i=new h,n=4;switch(n=e<20?0:e<30?1:e<40?2:e<50?3:e<60?4:e<70?5:e<80?6:e<90?7:e<100?8:e<110?9:e<120?10:e<130||e<140?11:e<150?12:13,this.getRandomInt(n)){case 0:i.Row=8,i.Col=8;break;case 1:i.Row=9,i.Col=9;break;case 2:i.Row=10,i.Col=10;break;case 3:i.Row=11,i.Col=11;break;case 4:i.Row=12,i.Col=12;break;case 5:i.Row=13,i.Col=13;break;case 6:i.Row=14,i.Col=14;break;case 7:i.Row=15,i.Col=15;break;case 8:i.Row=16,i.Col=16;break;case 9:i.Row=17,i.Col=17;break;case 10:i.Row=18,i.Col=18;break;case 11:i.Row=19,i.Col=19;break;case 11:i.Row=20,i.Col=20;break;default:i.Row=22,i.Col=22}return(e+1)%10==0&&(i.Row+=5,i.Row=i.Row>24?24:i.Row,i.Col+=5,i.Col=i.Col>24?24:i.Col),i.Patern=this.createLevelPattern(i.Row,i.Col),i},e.createSeed=function(e){this.ACTUALSEED=e*(15234+e)-(e+3345)},e.nextSeed=function(){this.ACTUALSEED=this.ACTUALSEED/5+this.ACTUALSEED+11457},e.getRandomInt=function(e,i){void 0===i&&(i=0);var t=n(this.ACTUALSEED,i,e);return this.nextSeed(),t},e.createLevelPattern=function(e,i){for(var n=e*i,t=Math.round(.3*n),h=Math.round(.04*n),r=.6*n,l=Math.round(.08*n),s=Math.round(.05*n),d=this.getRandomInt(t),a=this.getRandomInt(h),o=r,u=this.getRandomInt(l),c=this.getRandomInt(s),C=[],E=0;E<e;E++){C[E]=[];for(var L=0;L<i;L++)C[E][L]=0}for(E=0;E<d;E++){C[(w=this.pickRandomOutlineCellPosition(C)).x][w.y]=this.BARRIERE}for(E=0;E<a;E++){var w;C[(w=this.pickTotalRandomCellPosition(C)).x][w.y]=this.OBSTACLES}C=this.modifyBarriereDesign(C);var V=!1,f=0;do{f++;for(E=0;E<c;E++){this.add8CellsVehicle90(C),this.add8CellsVehicle(C)&&(V=!0)}for(E=0;E<u;E++){this.add6CellsVehicle90(C),this.add6CellsVehicle(C)&&(V=!0)}for(E=0;E<o;E++){this.add4CellsVehicle(C),this.add4CellsVehicle90(C)&&(V=!0)}if(f>10)break}while(!V);return console.log("grid:",C),C},e.modifyBarriereDesign=function(e){return 1==e[0][0]&&1==e[0][1]&&1==e[1][0]&&(e[0][0]=3),1==e[e.length-1][0]&&1==e[e.length-2][0]&&1==e[e.length-1][1]&&(e[e.length-1][0]=3),1==e[0][e.length-1]&&1==e[0][e.length-2]&&1==e[1][e.length-1]&&(e[0][e.length-1]=3),1==e[e.length-1][e.length-1]&&1==e[e.length-2][e.length-1]&&1==e[e.length-1][e.length-2]&&(e[e.length-1][e.length-1]=3),e},e.add4CellsVehicle=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleRow(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE4CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE4CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE4CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE4CELLS),!0)},e.add4CellsVehicle90=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleColumn(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE4CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE4CELLS90),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE4CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE4CELLS90),!0)},e.add6CellsVehicle=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e,r.SixCells));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleRow(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+2),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+2),this.VEHICLE6CELLS),!0)},e.add6CellsVehicle90=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e,r.SixCells90));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleColumn(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x+2,i.y),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x+2,i.y+1),this.VEHICLE6CELLS90),!0)},e.add8CellsVehicle=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e,r.EightCells));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleRow(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+2),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+2),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+3),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+3),this.VEHICLE8CELLS),!0)},e.add8CellsVehicle90=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e,r.EightCells90));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleColumn(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+2,i.y),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+2,i.y+1),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+3,i.y),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+3,i.y+1),this.VEHICLE8CELLS90),!0)},e.addVehiculeOnGrid=function(e,i,n){1==e[i.x][i.y]?e[i.x][i.y]=n+10:(e[i.x][i.y],e[i.x][i.y]=n)},e.pickRandomOutlineCellPosition=function(e){var i=this.getRandomInt(e.length),n=this.getRandomInt(e[0].length);0!=i&&i!=e.length-1&&(n=0==this.getRandomInt(2)?0:e[0].length-1);return new t(i,n)},e.pickMapMiddlCell=function(e){var i=Math.round(e.length/2),n=Math.round(e[0].length/2);return new t(i,n)},e.pickTotalRandomCellPosition=function(e){var i=this.getRandomInt(e.length),n=this.getRandomInt(e[0].length);return new t(i,n)},e.pickRandomFreeCell=function(e){var i=0,n=0;do{i=this.getRandomInt(e.length),n=this.getRandomInt(e[0].length)}while(0==e[i][n]);return new t(i,n)},e.isInBound=function(e,i){return!(e.x<0)&&(!(e.x>=i.length)&&(!(e.y<0)&&!(e.y>=i[0].length)))},e.canPutVehicleHere=function(e,i,n){if(void 0===n&&(n=r.FourthCells),!this.isInBound(new t(e.x,e.y),i))return!1;if(!this.isInBound(new t(e.x+1,e.y),i))return!1;if(!this.isInBound(new t(e.x,e.y+1),i))return!1;if(!this.isInBound(new t(e.x+1,e.y+1),i))return!1;if(!this.freeParkingSpace(i[e.x][e.y]))return!1;if(!this.freeParkingSpace(i[e.x+1][e.y]))return!1;if(!this.freeParkingSpace(i[e.x][e.y+1]))return!1;if(!this.freeParkingSpace(i[e.x+1][e.y+1]))return!1;if(n==r.SixCells||n==r.EightCells){if(!this.isInBound(new t(e.x,e.y+2),i))return!1;if(!this.isInBound(new t(e.x+1,e.y+2),i))return!1;if(!this.freeParkingSpace(i[e.x][e.y+2]))return!1;if(!this.freeParkingSpace(i[e.x+1][e.y+2]))return!1}if(n==r.EightCells){if(!this.isInBound(new t(e.x,e.y+3),i))return!1;if(!this.isInBound(new t(e.x+1,e.y+3),i))return!1;if(!this.freeParkingSpace(i[e.x][e.y+3]))return!1;if(!this.freeParkingSpace(i[e.x+1][e.y+3]))return!1}if(n==r.SixCells90||n==r.EightCells90){if(!this.isInBound(new t(e.x+2,e.y),i))return!1;if(!this.isInBound(new t(e.x+2,e.y+1),i))return!1;if(!this.freeParkingSpace(i[e.x+2][e.y]))return!1;if(!this.freeParkingSpace(i[e.x+2][e.y+1]))return!1}if(n==r.EightCells90){if(!this.isInBound(new t(e.x+3,e.y),i))return!1;if(!this.isInBound(new t(e.x+3,e.y+1),i))return!1;if(!this.freeParkingSpace(i[e.x+3][e.y]))return!1;if(!this.freeParkingSpace(i[e.x+3][e.y+1]))return!1}return!0},e.freeParkingSpace=function(e){return 0==e||1==e||3==e},e.canOutsideVehicleRow=function(e,i){if(-1==e.x||-1==e.y)return!1;for(var n=!0,t=0;t<=e.y;t++)0!=i[e.x][t]&&(n=!1),0!=i[e.x+1][t]&&(n=!1);var h=!0;for(t=e.y;t<i[0].length;t++)0!=i[e.x][t]&&(h=!1),0!=i[e.x+1][t]&&(h=!1);return!(!n&&!h)},e.canOutsideVehicleColumn=function(e,i){if(-1==e.x||-1==e.y)return!1;for(var n=!0,t=0;t<=e.x;t++)0!=i[t][e.y]&&(n=!1),0!=i[t][e.y+1]&&(n=!1);var h=!0;for(t=e.x;t<i.length;t++)0!=i[t][e.y]&&(h=!1),0!=i[t][e.y+1]&&(h=!1);return!(!n&&!h)},e}());l.BARRIERE=1,l.OBSTACLES=2,l.VEHICLE4CELLS=4,l.VEHICLE4CELLS90=5,l.VEHICLE6CELLS=6,l.VEHICLE6CELLS90=7,l.VEHICLE8CELLS=8,l.VEHICLE8CELLS90=9,l.ACTUALSEED=0,i._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,o,t,r,i,c;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,r=e.randomRange,i=e.Vec3,c=e.Component}],execute:function(){var s;o._RF.push({},"10cf2bVxcVBip+3cFMHnydV","ShakeScreen",void 0);var a=t.ccclass;t.property,e("ShakeScreen",a("ShakeScreen")(s=function(e){function o(){for(var n,o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];return(n=e.call.apply(e,[this].concat(t))||this).m_OrigiPos=void 0,n}n(o,e);var t=o.prototype;return t.start=function(){this.m_OrigiPos=this.node.position},t.Shake=function(e){var n=r(-1,1)*e,o=r(-1,1)*e;this.node.position=new i(n,o,this.node.position.z)},o}(c))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./PokiManager.ts","./BasePopup.ts","./ShopSkinIconPrefab.ts","./ShopTrailIconPrefab.ts"],(function(n){var e,t,i,o,a,l,r,s,c,p,u,h,m,S,g,f,b,P,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,r=n.Button,s=n.Node,c=n.Prefab,p=n.instantiate,u=n.director,h=n.resources,m=n.Layout,S=n.UITransform},function(n){g=n.UIManager},function(n){f=n.PokiManager},function(n){b=n.BasePopup},function(n){P=n.ShopSkinIconPrefab},function(n){d=n.ShopTrailIconPrefab}],execute:function(){var C,y,_,k,I,w,T,v,M,B,V,z,A,L,E,D,N,K,U,x,R,Y;a._RF.push({},"e1047BjI19MppJlVdoSMm+D","ShopPopup",void 0);var j=l.ccclass,F=l.property;n("ShopPopup",(C=j("ShopPopup"),y=F({type:r}),_=F({type:r}),k=F({type:r}),I=F({type:s}),w=F({type:s}),T=F({type:c}),v=F({type:c}),M=F({type:s}),B=F({type:s}),C(((Y=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a))||this,i(e,"m_closeButton",A,o(e)),i(e,"m_TrailsButton",L,o(e)),i(e,"m_SkinsButton",E,o(e)),i(e,"m_TrailsSection",D,o(e)),i(e,"m_SkinsSection",N,o(e)),i(e,"m_TrailIconPrefab",K,o(e)),i(e,"m_SkinIconPrefab",U,o(e)),i(e,"m_trailScrollViewContent",x,o(e)),i(e,"m_skinsScrollViewContent",R,o(e)),e.allTrailIcons=void 0,e.allSkinsIcons=void 0,e}t(e,n),e.create=function(n,t){e.shopPopupCloseCallback=t,e.gameManager=n,h.load("Popups/ShopPopup",e.onPrefabLoaded)},e.closeNow=function(){null!=e.instance&&(e.instance.getComponent(b).closePopup(),e.instance=void 0)};var a=e.prototype;return a.initShopPopup=function(e){this.m_closeButton.node.on(r.EventType.CLICK,this.closePopup,this),this.m_TrailsButton.node.on(r.EventType.CLICK,this.showTrailsMenu,this),this.m_SkinsButton.node.on(r.EventType.CLICK,this.ShowSkinsMenu,this),this.loadIconsPrefab(),this.ShowSkinsMenu(),n.prototype.initPopup.call(this,void 0,e),n.prototype.showPopup.call(this)},a.loadIconsPrefab=function(){this.allTrailIcons=new Array,this.allSkinsIcons=new Array;for(var n=u.getScene().getChildByName("Managers").getComponentInChildren(g).allTrailsData,e=0;e<n.length;e++){var t=p(this.m_TrailIconPrefab);t.setParent(this.m_trailScrollViewContent),t.getComponent(d).init(n[e],this),this.allTrailIcons.push(t)}for(var i=u.getScene().getChildByName("Managers").getComponentInChildren(g).allSkinsData,o=0;o<i.length;o++){var a=p(this.m_SkinIconPrefab);a.setParent(this.m_skinsScrollViewContent),a.getComponent(P).init(i[o],this),this.allSkinsIcons.push(a)}var l=this.m_trailScrollViewContent.getComponent(m);this.m_trailScrollViewContent.getComponent(S).height=Math.round(n.length/2)*l.cellSize.x+Math.round(n.length/2)*l.spacingY+l.paddingTop;var r=this.m_skinsScrollViewContent.getComponent(m);this.m_skinsScrollViewContent.getComponent(S).height=Math.round(i.length/2)*r.cellSize.x+Math.round(i.length/2)*r.spacingY+r.paddingTop},a.showPopup=function(){n.prototype.showPopup.call(this)},a.closePopup=function(){this.m_closeButton.interactable=!1,e.instance=void 0,n.prototype.closePopup.call(this)},a.closeAllMenu=function(){this.m_TrailsSection.active=!1,this.m_SkinsSection.active=!1},a.showTrailsMenu=function(){this.closeAllMenu(),this.m_TrailsSection.active=!0},a.ShowSkinsMenu=function(){this.closeAllMenu(),this.m_SkinsSection.active=!0},a.unselectAllTrailsIcons=function(){for(var n=0;n<this.allTrailIcons.length;n++)this.allTrailIcons[n].getComponent(d).unselectTrail()},a.unselectAllSkinsIcons=function(){for(var n=0;n<this.allSkinsIcons.length;n++)this.allSkinsIcons[n].getComponent(P).unselectSkin()},a.buyStuff=function(n){e.gameManager.removeCoins(n)},a.changeTrail=function(n){e.gameManager.SetVehicleTrail(n)},a.changeSkin=function(n){e.gameManager.SetVehicleSkin(n)},a.showRewardAds=function(n){e.gameManager.m_PokiManager.sendEvent(f.POKIEVENTTYPE.rewardedBreak,(function(){n()}))},e}(b)).shopPopupCloseCallback=void 0,Y.gameManager=void 0,Y.instance=void 0,Y.onPrefabLoaded=function(n,e){Y.instance=p(e),Y.instance.setParent(u.getScene().getChildByPath("UIGame/PopupContainer")),Y.instance.getComponent(Y).initShopPopup(Y.shopPopupCloseCallback)},A=e((z=Y).prototype,"m_closeButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(z.prototype,"m_TrailsButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(z.prototype,"m_SkinsButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(z.prototype,"m_TrailsSection",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(z.prototype,"m_SkinsSection",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(z.prototype,"m_TrailIconPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(z.prototype,"m_SkinIconPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(z.prototype,"m_trailScrollViewContent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(z.prototype,"m_skinsScrollViewContent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=z))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopSkinIconPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./PlayerInfo.ts","./YesNoPopup.ts"],(function(t){var e,i,n,a,o,c,r,l,u,s,p,m,h,k,f,S,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,r=t.Sprite,l=t.UITransform,u=t.SpriteFrame,s=t.Button,p=t.Label,m=t.Color,h=t.tween,k=t.Vec3,f=t.Component},function(t){S=t.default},function(t){b=t.PlayerInfo},function(t){g=t.YesNoPopup}],execute:function(){var d,_,I,y,D,w,C,P,v,T,L,O,z,R,U,B,x,F,V,K,A;o._RF.push({},"2740e40zVdBRJekRc+50BD1","ShopSkinIconPrefab",void 0);var E=c.ccclass,N=c.property;t("ShopSkinIconPrefab",(d=E("ShopSkinIconPrefab"),_=N({type:r}),I=N({type:r}),y=N({type:l}),D=N({type:r}),w=N({type:u}),C=N({type:s}),P=N({type:p}),v=N({type:p}),T=N([u]),d((z=e((O=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(e,"m_backgroundSprite",z,a(e)),n(e,"m_iconSprite",R,a(e)),n(e,"m_lockImage",U,a(e)),n(e,"m_lockCoinsImage",B,a(e)),n(e,"m_lockVideoImageRessources",x,a(e)),n(e,"m_selectButton",F,a(e)),n(e,"m_nameText",V,a(e)),n(e,"m_priceText",K,a(e)),n(e,"m_allSkinIconsFrame",A,a(e)),e.actualData=void 0,e.actualShopPopup=void 0,e}i(e,t);var o=e.prototype;return o.start=function(){this.m_selectButton.node.on(s.EventType.CLICK,this.onClickIcon,this)},o.init=function(t,e){var i=this;this.actualData=t,this.actualShopPopup=e,this.m_backgroundSprite.color=S.COLOR_LOCK,this.m_nameText.string=this.actualData.name,this.m_priceText.string=this.actualData.price,this.m_allSkinIconsFrame.forEach((function(t){t.name!=i.actualData.icon||(i.m_iconSprite.spriteFrame=t)})),1==this.actualData.rewardedVideo&&S.POKI&&(this.m_priceText.string="Video reward",this.m_lockCoinsImage.spriteFrame=this.m_lockVideoImageRessources,this.m_lockCoinsImage.color=m.BLACK),this.isUnlocked()&&this.unlockSkin(),b.getItem("usingSkin","skin_0")==this.actualData.id&&this.selectUsingIconSkin()},o.isUnlocked=function(){return 0==this.actualData.price||"true"==b.getItem("skin_"+this.actualData.id)},o.unlockSkin=function(){this.m_backgroundSprite.color=S.COLOR_UNLOCK,this.m_lockImage.node.active=!1},o.onClickIcon=function(){var t=this;this.puyonAnimation((function(){t.isUnlocked()?t.selectSkin():1==t.actualData.rewardedVideo&&S.POKI?g.create("Get Skin","Do you want to watch a video to get <b> "+t.actualData.name+"</b>?",(function(){t.actualShopPopup.showRewardAds((function(){t.catchThisSkin()}))}),(function(){})):g.create("Buy Skin","Do you want to buy <b>"+t.actualData.name+"<b> for <b>"+t.actualData.price+"</b> coins?",(function(){t.actualData.price<=parseInt(b.getItem("gold","0"))&&(t.actualShopPopup.buyStuff(t.actualData.price),t.catchThisSkin())}),(function(){}))}))},o.catchThisSkin=function(){b.saveItem("skin_"+this.actualData.id,"true"),this.unlockSkin(),this.selectSkin()},o.puyonAnimation=function(t){h().target(this.node).to(.15,{scale:new k(.9,.9,1)},{easing:"circIn"}).delay(0).to(.15,{scale:new k(1,1,1)},{easing:"circIn"}).call((function(){t()})).start()},o.selectUsingIconSkin=function(){this.actualShopPopup.unselectAllSkinsIcons(),this.m_backgroundSprite.color=S.COLOR_SELECT},o.selectSkin=function(){this.selectUsingIconSkin(),b.saveItem("usingSkin",this.actualData.id),this.actualShopPopup.changeSkin(this.actualData.id)},o.unselectSkin=function(){this.isUnlocked()&&(this.m_backgroundSprite.color=S.COLOR_UNLOCK)},e}(f)).prototype,"m_backgroundSprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(O.prototype,"m_iconSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(O.prototype,"m_lockImage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(O.prototype,"m_lockCoinsImage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(O.prototype,"m_lockVideoImageRessources",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(O.prototype,"m_selectButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(O.prototype,"m_nameText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(O.prototype,"m_priceText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(O.prototype,"m_allSkinIconsFrame",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=O))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopTrailIconPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./PlayerInfo.ts","./YesNoPopup.ts"],(function(t){var e,a,i,o,n,r,l,c,u,s,p,m,h,f,b,g,d,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,l=t.Sprite,c=t.UITransform,u=t.SpriteFrame,s=t.Button,p=t.Label,m=t.Color,h=t.tween,f=t.Vec3,b=t.Component},function(t){g=t.default},function(t){d=t.PlayerInfo},function(t){_=t.YesNoPopup}],execute:function(){var T,I,y,k,S,D,w,C,P,v,L,O,z,R,U,x,F,B,K,V,A;n._RF.push({},"2fd6ewrLJpOU680p6LijRJT","ShopTrailIconPrefab",void 0);var E=r.ccclass,N=r.property;t("ShopTrailIconPrefab",(T=E("ShopTrailIconPrefab"),I=N({type:l}),y=N({type:l}),k=N({type:c}),S=N({type:l}),D=N({type:u}),w=N({type:s}),C=N({type:p}),P=N({type:p}),v=N([u]),T((z=e((O=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,i(e,"m_backgroundSprite",z,o(e)),i(e,"m_iconSprite",R,o(e)),i(e,"m_lockImage",U,o(e)),i(e,"m_lockCoinsImage",x,o(e)),i(e,"m_lockVideoImageRessources",F,o(e)),i(e,"m_selectButton",B,o(e)),i(e,"m_nameText",K,o(e)),i(e,"m_priceText",V,o(e)),i(e,"m_allTrailIconsFrame",A,o(e)),e.actualData=void 0,e.actualShopPopup=void 0,e}a(e,t);var n=e.prototype;return n.start=function(){this.m_selectButton.node.on(s.EventType.CLICK,this.onClickIcon,this)},n.init=function(t,e){var a=this;this.actualData=t,this.actualShopPopup=e,this.m_backgroundSprite.color=g.COLOR_LOCK,this.m_nameText.string=this.actualData.name,this.m_priceText.string=this.actualData.price,this.m_allTrailIconsFrame.forEach((function(t){t.name!=a.actualData.icon||(a.m_iconSprite.spriteFrame=t)})),1==this.actualData.rewardedVideo&&g.POKI&&(this.m_priceText.string="Video reward",this.m_lockCoinsImage.spriteFrame=this.m_lockVideoImageRessources,this.m_lockCoinsImage.color=m.BLACK),this.isUnlocked()&&this.unlockTrail(),d.getItem("usingTrail","trail_0")==this.actualData.id&&this.selectUsingIconTrail()},n.isUnlocked=function(){return 0==this.actualData.price||"true"==d.getItem("trail_"+this.actualData.id)},n.unlockTrail=function(){this.m_backgroundSprite.color=g.COLOR_UNLOCK,this.m_lockImage.node.active=!1},n.onClickIcon=function(){var t=this;this.puyonAnimation((function(){t.isUnlocked()?t.selectTrail():1==t.actualData.rewardedVideo&&g.POKI?_.create("Get Trail","Do you want to watch a video to get <b> "+t.actualData.name+"</b>?",(function(){t.actualShopPopup.showRewardAds((function(){t.catchThisTrail()}))}),(function(){})):_.create("Buy Trail","Do you want to buy <b>"+t.actualData.name+"</b> for <b>"+t.actualData.price+"</b> coins?",(function(){t.actualData.price<=parseInt(d.getItem("gold","0"))&&(t.actualShopPopup.buyStuff(t.actualData.price),t.catchThisTrail())}),(function(){}))}))},n.catchThisTrail=function(){d.saveItem("trail_"+this.actualData.id,"true"),this.unlockTrail(),this.selectTrail()},n.puyonAnimation=function(t){h().target(this.node).to(.15,{scale:new f(.9,.9,1)},{easing:"circIn"}).delay(0).to(.15,{scale:new f(1,1,1)},{easing:"circIn"}).call((function(){t()})).start()},n.selectUsingIconTrail=function(){this.actualShopPopup.unselectAllTrailsIcons(),this.m_backgroundSprite.color=g.COLOR_SELECT},n.selectTrail=function(){this.selectUsingIconTrail(),d.saveItem("usingTrail",this.actualData.id),this.actualShopPopup.changeTrail(this.actualData.id)},n.unselectTrail=function(){this.isUnlocked()&&(this.m_backgroundSprite.color=g.COLOR_UNLOCK)},e}(b)).prototype,"m_backgroundSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(O.prototype,"m_iconSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(O.prototype,"m_lockImage",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(O.prototype,"m_lockCoinsImage",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(O.prototype,"m_lockVideoImageRessources",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(O.prototype,"m_selectButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(O.prototype,"m_nameText",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(O.prototype,"m_priceText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(O.prototype,"m_allTrailIconsFrame",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=O))||L));n._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./PlayerInfo.ts"],(function(n){var t,e,o,c;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){o=n.default},function(n){c=n.PlayerInfo}],execute:function(){e._RF.push({},"5a6853lXoNLY5RRZnBJPV0Q","Singleton",void 0);var u="Muted";n("default",function(){function n(){}return n.getInstance=function(){return n.instance||(n.instance=new n),o.CONSOLE||(console.log=function(){}),n.instance},t(n,[{key:"mute",get:function(){var n=c.getItem(u,"0");return"string"==typeof n&&"1"==n},set:function(n){n?c.saveItem(u,"1"):c.saveItem(u,"0")}}]),n}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/Smiley.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Anim.ts"],(function(e){var i,t,r,n,a,l,o,p,s,c,u,y,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.SpriteRenderer,p=e.SpriteFrame,s=e.Animation,c=e.director,u=e.Vec3,y=e.Component},function(e){m=e.Anim}],execute:function(){var h,f,d,b,g,A,F,R,w,z,S,v,M,C,N,_,D;a._RF.push({},"63cdcdgNAhHW5NL39Wn/v3k","Smiley",void 0);var L=l.ccclass,k=l.property;e("Smiley",(h=L("Smiley"),f=k(o),d=k([p]),b=k(p),g=k(p),A=k(p),F=k(p),R=k(s),h((S=i((z=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,r(i,"spriteRenderer",S,n(i)),r(i,"smileys",v,n(i)),r(i,"angry",M,n(i)),r(i,"upset",C,n(i)),r(i,"party",N,n(i)),r(i,"happy",_,n(i)),r(i,"anim",D,n(i)),i.camera=null,i}t(i,e);var a=i.prototype;return a.start=function(){this.camera=c.getScene().getChildByName("Camera").getChildByName("Main Camera"),this.node.scale=u.ZERO},a.OnMouseDown=function(e){this.playAngryFace()},a.playRandomFace=function(){this.spriteRenderer.spriteFrame=this.smileys[Math.floor(Math.random()*this.smileys.length)],this.playAnimation()},a.playAngryFace=function(){this.spriteRenderer.spriteFrame=this.angry,this.playAnimation()},a.playHappyFace=function(){this.spriteRenderer.spriteFrame=this.happy,this.playAnimation()},a.playPartyFace=function(){this.spriteRenderer.spriteFrame=this.party,this.playAnimation()},a.playUpsetFace=function(){this.spriteRenderer.spriteFrame=this.upset,this.playAnimation()},a.playAnimation=function(){this.node.scale=u.ZERO,this.node.lookAt(this.camera.position),this.anim.play(m.SMILEY_ANIM)},i}(y)).prototype,"spriteRenderer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(z.prototype,"smileys",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=i(z.prototype,"angry",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(z.prototype,"upset",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(z.prototype,"party",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(z.prototype,"happy",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(z.prototype,"anim",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/Sound.ts",["cc"],(function(e){var c,o;return{setters:[function(e){c=e.cclegacy,o=e._decorator}],execute:function(){var E,n;c._RF.push({},"0ce6dihXlRAkrQ++MCEWPdI","Sound",void 0);var t=o.ccclass;o.property,e("Sound",t("Sound")(((n=function(){}).BUTTON_PRESSED="ButtonPressed",n.VEHICLE_COLLISION="VehicleCollision",n.VEHICLE_EXIT="VehicleExit",n.VEHICLE_MOVE="VehicleMove",n.COIN="Coin",n.VEHICLE_SELECTION="VehicleSelection",n.HONK="Honk",n.LEVEL_COMPLETED="LevelCompleted",E=n))||E);c._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(n){var e,i,t,o,r,u,a,c,l,s;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,a=n.AudioSource,c=n.AudioClip,l=n.Component},function(n){s=n.default}],execute:function(){var d,p,f,m,h,g,y,S;r._RF.push({},"869eaFEdmNDpouT7Y3pUgjp","SoundManager",void 0);var v=u.ccclass,_=u.property;n("SoundManager",(d=v("SoundManager"),p=_(a),f=_(c),d(((S=function(n){function e(){for(var e,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return e=n.call.apply(n,[this].concat(r))||this,t(e,"m_AudioSource",g,o(e)),t(e,"m_AudioClip",y,o(e)),e.dictionnary=new Map,e}i(e,n);var r=e.prototype;return r.onLoad=function(){var n=this;e.instance=this,this.m_AudioClip.forEach((function(e){n.dictionnary.set(e.name,e)}))},r.playSound=function(n,e){void 0===e&&(e=1);var i=this.dictionnary.get(n);null!=i?this.m_AudioSource.playOneShot(i,e):console.error("Can't find sound with name "+n)},r.mute=function(){this.m_AudioSource.volume=0,s.getInstance().mute=!0},r.unmute=function(){this.m_AudioSource.volume=1,s.getInstance().mute=!1},e}(l)).instance=void 0,g=e((h=S).prototype,"m_AudioSource",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(h.prototype,"m_AudioClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=h))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/Spline.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KnotSpline.ts"],(function(r){var t,e,n,o,i,a;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.initializerDefineProperty},function(r){n=r.cclegacy,o=r._decorator,i=r.Vec3},function(r){a=r.KnotSpline}],execute:function(){var s,c,_,p,m;n._RF.push({},"28163BDBhBE/Y1nlbgfvgTx","Spline",void 0);var u=o.ccclass,h=o.property;r("Spline",(s=u("Spline"),c=h({type:a}),s((m=t((p=function(){function r(r,t,n,o,i,a,s,c){e(this,"m_KnotArray",m,this),this.CreationSplineKnot(r,t,n,a,s),this.CreateCornerParking(o,i),this.CreateArrow(c,i,a)}var t=r.prototype;return t.CreationSplineKnot=function(r,t,e,n,o){this.m_KnotArray.push(new a(r,r.m_Row-1,r.m_Col-1,t,e,0,1.5,0,n,o)),this.m_KnotArray.push(new a(r,0,r.m_Col-1,t,e,-1.5,1.5,180,n,o)),this.m_KnotArray.push(new a(r,0,0,t,e,-1.5,-1.5,90,n,o)),this.m_KnotArray.push(new a(r,r.m_Row-1,0,t,e,1.5,-1.5,0,n,o)),this.m_KnotArray.push(new a(r,r.m_Row-1,r.m_Col-1,t,e,1.5,1,0,n,o)),this.m_KnotArray.push(new a(r,r.m_Row-1,r.m_Col-1,t,e,1.5,20,0,n,o))},t.CreateCornerParking=function(r,t){for(var e=1;e<4;e++)t.CreateCornerRoad(r,this,e)},t.CreateArrow=function(r,t,e){for(var n=0;n<4;n++){var o=(this.m_KnotArray[n].m_Vec.x+this.m_KnotArray[n+1].m_Vec.x)/2,a=(this.m_KnotArray[n].m_Vec.y+this.m_KnotArray[n+1].m_Vec.y)/2+.05,s=(this.m_KnotArray[n].m_Vec.z+this.m_KnotArray[n+1].m_Vec.z)/2,c=new i(o,a,s);t.CreateArrowSprite(r,c,e,n)}},r}()).prototype,"m_KnotArray",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array}}),_=p))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PokiManager.ts","./EndLevelPopup.ts","./ShopPopup.ts","./PlayerInfo.ts","./Constants.ts"],(function(n){var t,e,i,a,o,r,s,l,u,c,p,h,m,f,g,_,v,d,b,I,y,P,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,s=n.Canvas,l=n.Node,u=n.Button,c=n.Prefab,p=n.resources,h=n.JsonAsset,m=n.Animation,f=n.Component,g=n.instantiate,_=n.Vec3,v=n.randomRange,d=n.tween},function(n){b=n.PokiManager},function(n){I=n.EndLevelPopup},function(n){y=n.ShopPopup},function(n){P=n.PlayerInfo},function(n){w=n.default}],execute:function(){var k,D,T,S,U,M,E,C,L,G,O,z,x,B,V,W,j,A,K;o._RF.push({},"ad1ddOQjbFAHogGRup99T7o","UIManager",void 0);var N=r.ccclass,R=r.property;n("UIManager",(k=N("UIManager"),D=R({type:b}),T=R({type:s}),S=R([l]),U=R({type:u}),M=R({type:l}),E=R({type:l}),C=R({type:l}),L=R({type:c}),k((z=t((O=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=n.call.apply(n,[this].concat(o))||this,i(t,"m_PokiManager",z,a(t)),i(t,"m_uiCanvas",x,a(t)),i(t,"m_inGameUI",B,a(t)),i(t,"m_shopButton",V,a(t)),i(t,"m_shopWarning",W,a(t)),i(t,"m_coinUI",j,a(t)),i(t,"m_bossLevelText",A,a(t)),i(t,"m_coinUIPrefab",K,a(t)),t.m_GameManager=null,t.m_shopIsOpen=!1,t.m_showPopup=void 0,t.allSkinsData=void 0,t.allTrailsData=void 0,t}e(t,n);var o=t.prototype;return o.onLoad=function(){var n=this;p.load("trailsData",h,(function(t,e){return n.loadTrailData(e.json)})),p.load("skinsData",h,(function(t,e){return n.loadSkinData(e.json)}))},o.loadTrailData=function(n){this.allTrailsData=n},o.loadSkinData=function(n){this.allSkinsData=n},o.init=function(n){this.m_GameManager=n},o.start=function(){this.m_shopButton.node.on(u.EventType.CLICK,this.showShopPopup,this),this.m_bossLevelText.active=!1},o.showBossLevelText=function(){this.m_bossLevelText.active=!0,this.m_bossLevelText.getComponent(m).play()},o.showEndLevelPopup=function(n,t){var e=this;this.inGameUIVisible(!1);var i=Math.floor(n/2);w.POKI||(i=2*n);var a=3*i;I.create(this.m_GameManager,i.toString(),a.toString(),(function(){e.m_PokiManager.sendEvent(b.POKIEVENTTYPE.rewardedBreak,(function(){e.showCoinUIEffect(a),e.scheduleOnce((function(){}),2)}))}),(function(){e.scheduleOnce((function(){this.showCoinUIEffect(i)}),1)}),(function(){e.inGameUIVisible(!0),t()}))},o.inGameUIVisible=function(n){this.m_inGameUI.forEach((function(t){t.active=n}))},o.showShopPopup=function(){var n=this;this.m_shopIsOpen?y.closeNow():(this.m_shopIsOpen=!0,null==I.instance&&this.m_PokiManager.sendEvent(b.POKIEVENTTYPE.gameplayStop),this.m_showPopup=y.create(this.m_GameManager,(function(){null==I.instance&&n.m_PokiManager.pokiEventStart(),n.m_shopIsOpen=!1})))},o.showCoinUIEffect=function(n){for(var t=this,e=this.m_coinUI.getPosition(),i=function(){o=1/n*a;var i=g(t.m_coinUIPrefab);i.setParent(t.m_uiCanvas.node),i.setPosition(-38.841,.621,0),r=new _(v(-50.5,50.5),v(-50.5,50.5),0),s=new _(e.x,e.y,0),d().target(i).delay(0).to(.2,{position:r},{easing:"expoOut"}).delay(o).to(.4,{position:s},{easing:"backIn"}).call((function(){t.m_GameManager.addCoins(1),i.destroy()})).start()},a=0;a<n;a++){var o,r,s;i()}},o.checkShowShopWarningIcon=function(n){for(var t=0;t<this.allTrailsData.length;t++)if(this.allTrailsData[t].price>0&&this.allTrailsData[t].price<n&&"true"!=P.getItem("trail_"+this.allTrailsData[t].id))return void(this.m_shopWarning.active=!0);for(var e=0;e<this.allSkinsData.length;e++)if(this.allSkinsData[e].price>0&&this.allSkinsData[e].price<n&&"true"!=P.getItem("skin_"+this.allSkinsData[e].id))return void(this.m_shopWarning.active=!0);this.m_shopWarning.active=!1},t}(f)).prototype,"m_PokiManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(O.prototype,"m_uiCanvas",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(O.prototype,"m_inGameUI",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(O.prototype,"m_shopButton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(O.prototype,"m_shopWarning",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(O.prototype,"m_coinUI",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(O.prototype,"m_bossLevelText",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(O.prototype,"m_coinUIPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=O))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/Vehicle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Anim.ts","./Smiley.ts","./ActiveExitVehicleFeedBack.ts","./Vibrations.ts","./Sound.ts"],(function(i){var t,e,n,o,r,m,a,l,_,s,h,c,p,u,d,y,S,E,V,A,f,C,K,w;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,m=i._decorator,a=i.Node,l=i.Enum,_=i.Animation,s=i.ParticleSystem,h=i.Prefab,c=i.Collider,p=i.Vec3,u=i.tween,d=i.Quat,y=i.instantiate,S=i.math,E=i.director,V=i.Component},function(i){A=i.Anim},function(i){f=i.Smiley},function(i){C=i.ActiveExitVehicleFeedBack},function(i){K=i.default},function(i){w=i.Sound}],execute:function(){var T,v,I,k,x,L,g,P,O,R,B,b,M,z,F,N,H,D,W,G,X,q,J,U,Z,j,Q;r._RF.push({},"98cf5zH+cJFNJBSk1aSnZnr","Vehicle",void 0);var Y=m.ccclass,$=m.property,ii=function(i){return i[i.Small=0]="Small",i[i.Medium=1]="Medium",i[i.Large=2]="Large",i[i.Default=3]="Default",i}(ii||{}),ti=.07;i("Vehicle",(T=Y("Vehicle"),v=$({type:a}),I=$({type:a}),k=$({type:l(ii)}),x=$(_),L=$(s),g=$(h),P=$(f),O=$(s),R=$(s),B=$(a),b=$(c),M=$({type:C}),T((N=t((F=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),m=0;m<e;m++)r[m]=arguments[m];return t=i.call.apply(i,[this].concat(r))||this,n(t,"m_VehicleData",N,o(t)),n(t,"m_Body",H,o(t)),n(t,"m_SizeVehicle",D,o(t)),n(t,"m_Anim",W,o(t)),n(t,"m_Smoke",G,o(t)),n(t,"m_CoinPrefab",X,o(t)),n(t,"m_Smiley",q,o(t)),n(t,"m_ImpactBack",J,o(t)),n(t,"m_ImpactFront",U,o(t)),n(t,"m_TrailParticle",Z,o(t)),n(t,"m_Collider",j,o(t)),n(t,"m_EndParking",Q,o(t)),t.m_SoundManager=void 0,t.m_Spline=void 0,t.m_ShakeCamera=void 0,t.m_Game=null,t.m_MoveForward=!1,t.m_MoveBackward=!1,t.m_CanExit=void 0,t.m_MoveToExit=!1,t.m_AnimPlay=!1,t.m_Collide=!1,t.m_SpeedVehicle=20,t.m_SpeedVehicleOnPark=20,t.m_X=void 0,t.m_Z=void 0,t.m_TimerBeforeExitPark=.75,t.m_TimerRotation=.1,t.m_TimerBeforeRotate=.01,t.m_CurrentTimer=0,t.m_CurrentTimerShakeCamera=0,t.m_BodyScale=new p(1,1,1),t.m_tweenPressed=null,t.m_tweenReleased=null,t}e(t,i);var r=t.prototype;return r.onLoad=function(){this.m_BodyScale=this.m_Body.scale},r.update=function(i){this.m_CanExit&&(this.m_CurrentTimer+=1*i,this.m_CurrentTimer>=this.m_TimerBeforeExitPark&&(this.ExitParkingCheckRoad(),this.m_CurrentTimer=0)),this.m_Collide&&(this.m_ShakeCamera.Shake(.1),this.m_CurrentTimerShakeCamera>=.2&&(this.m_Collide=!1,this.m_CurrentTimerShakeCamera=0,this.m_ShakeCamera.node.position=new p(0,0,0)),this.m_CurrentTimerShakeCamera+=i)},r.SetVehiclePosition=function(i,t,e,n,o,r){var m=this;if(!this.m_MoveToExit){this.m_MoveToExit=!0;var a=p.distance(this.node.position,i)/this.m_SpeedVehicleOnPark;this.released(),u(this.node).to(a,{position:i}).call((function(){t?(m.m_Collide=t,m.CollisionVehicleMove(),m.CollideVehicles(e,o,r),m.CollisionBarriere(n),m.CollisionEnable(),m.m_MoveToExit=!1):(m.ExitParkingCheckRoad(),m.m_MoveToExit=!1)})).start()}},r.CollisionBarriere=function(i){i.forEach((function(i){null==i||i.CollisionVehicle()}))},r.CollideVehicles=function(i,t,e){i.forEach((function(i){null==i||i.CollisionVehicleStop(t,e)}))},r.ExitParkingCheckRoad=function(){this.node.eulerAngles.y>-89?this.m_MoveForward?this.CheckExitPark(this.m_Spline.m_KnotArray[2],this.m_Spline.m_KnotArray[3]):this.m_MoveBackward&&this.CheckExitPark(this.m_Spline.m_KnotArray[0],this.m_Spline.m_KnotArray[1]):this.m_MoveForward?this.CheckExitPark(this.m_Spline.m_KnotArray[1],this.m_Spline.m_KnotArray[2]):this.m_MoveBackward&&this.CheckExitPark(this.m_Spline.m_KnotArray[3],this.m_Spline.m_KnotArray[4])},r.CheckExitPark=function(i,t){i.m_VehicleOnMyRoad?this.CompareDistanceVehicle(t)?(i.m_VehicleOnMyRoad=!0,i.m_Knot.m_Timer=0,t.m_Knot.m_Vehicles.push(this),this.ExitPark(),this.m_CanExit=!1):(this.m_CanExit=!0,i.m_Knot.m_Timer=0,this.m_Smiley.playRandomFace(),this.m_SoundManager.playSound(w.HONK,.5)):(i.m_VehicleOnMyRoad=!0,i.m_Knot.m_Timer=0,t.m_Knot.m_Vehicles.push(this),this.ExitPark(),this.m_CanExit=!1)},r.CompareDistanceVehicle=function(i){var t=p.distance(this.node.position,i.m_Vec),e=0;return null!=i.m_Knot.m_Vehicles[i.m_Knot.m_Vehicles.length-1]&&null!=i.m_Knot.m_Vehicles[i.m_Knot.m_Vehicles.length-1].node&&(e=p.distance(i.m_Knot.m_Vehicles[i.m_Knot.m_Vehicles.length-1].node.position,i.m_Vec)),t>e},r.BlockKnot=function(i,t){i.m_VehicleOnMyRoad=!0,t.m_Knot.m_Vehicles.push(this),i.m_Knot.m_Vehicles.splice(i.m_Knot.m_Vehicles.length-1,1),i.m_Knot.m_Timer=0},r.ExitPark=function(){var i=this;if(this.CollisionDisable(),this.playSmokeParticles(),this.scheduleOnce((function(){i.getCoin(),i.m_Game.addCoins(1)}),.5),null!=this.m_Spline){if(this.node.eulerAngles.y>-89){if(this.m_MoveForward){var t=u(this.node).to(this.m_TimerBeforeRotate,{position:new p(this.node.position.x,0,this.node.position.z-.25)}).call((function(){return i.ClearWay()})),e=new d;d.fromEuler(e,0,90,0);var n=u(this.node).to(this.m_TimerRotation,{position:new p(this.node.position.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:e}).call((function(){return i.PlayTrailParticle()})),o=u(this.node).to(this.CalculTimeToExit(this.node.position,2),{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-1.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z)}),r=new d;d.fromEuler(r,0,60,0);var m=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:r}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[3],i.m_Spline.m_KnotArray[4])})),a=new d;d.fromEuler(a,0,30,0);var l=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:a}),_=new d;d.fromEuler(_,0,0,0);var s=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z+1.5),rotation:_}),h=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[3].m_Vec,3),{position:this.m_Spline.m_KnotArray[4].m_Vec}).call((function(){i.m_EndParking.ActivateFeedBack(),i.m_SoundManager.playSound(w.VEHICLE_EXIT,.5)})),c=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[4].m_Vec,4),{position:this.m_Spline.m_KnotArray[5].m_Vec});u(this.node).sequence(t,n,o,m,l,s,h,c).call((function(){i.m_Game.EndLevel(),i.node.active=!1})).start(),this.m_MoveForward=!1}else if(this.m_MoveBackward){var y=u(this.node).to(this.m_TimerRotation,{position:new p(this.node.position.x,0,this.node.position.z+1)}).call((function(){return i.ClearWay()})),S=new d;d.fromEuler(S,0,270,0);var E=u(this.node).to(this.m_TimerRotation,{position:new p(this.node.position.x,0,this.m_Spline.m_KnotArray[1].m_Vec.z),rotation:S}).call((function(){return i.PlayTrailParticle()})),V=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[0].m_Vec,0),{position:new p(this.m_Spline.m_KnotArray[1].m_Vec.x+1.5,0,this.m_Spline.m_KnotArray[1].m_Vec.z)}),A=new d;d.fromEuler(A,0,-120,0);var f=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[1].m_Vec.x+.5,0,this.m_Spline.m_KnotArray[1].m_Vec.z),rotation:A}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[1],i.m_Spline.m_KnotArray[2])})),C=new d;d.fromEuler(C,0,-150,0);var K=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[1].m_Vec.x,0,this.m_Spline.m_KnotArray[1].m_Vec.z),rotation:C}),T=new d;d.fromEuler(T,0,-180,0);var v=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[1].m_Vec.x,0,this.m_Spline.m_KnotArray[1].m_Vec.z-1.5),rotation:T}),I=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[1].m_Vec,1),{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z+1.5)}),k=new d;d.fromEuler(k,0,150,0);var x=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z+.5),rotation:k}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[2],i.m_Spline.m_KnotArray[3])})),L=new d;d.fromEuler(L,0,120,0);var g=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z),rotation:L}),P=new d;d.fromEuler(P,0,90,0);var O=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x+1.5,0,this.m_Spline.m_KnotArray[2].m_Vec.z),rotation:P}),R=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[2].m_Vec,2),{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-1.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z)}),B=new d;d.fromEuler(B,0,60,0);var b=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:B}),M=new d;d.fromEuler(M,0,30,0);var z=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:M}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[3],i.m_Spline.m_KnotArray[4])})),F=new d;d.fromEuler(F,0,0,0);var N=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z+1.5),rotation:F}),H=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[3].m_Vec,3),{position:this.m_Spline.m_KnotArray[4].m_Vec}).call((function(){i.m_EndParking.ActivateFeedBack(),i.m_SoundManager.playSound(w.VEHICLE_EXIT,.5)})),D=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[4].m_Vec,4),{position:this.m_Spline.m_KnotArray[5].m_Vec});u(this.node).sequence(y,E,V,f,K,v,I,x,g,O,R,b,z,N,H,D).call((function(){i.m_Game.EndLevel(),i.node.active=!1})).start(),this.m_MoveBackward=!1}}else if(this.m_MoveForward){var W=u(this.node).to(this.m_TimerBeforeRotate,{position:new p(this.node.position.x-.25,0,this.node.position.z)}).call((function(){return i.ClearWay()})),G=new d;d.fromEuler(G,0,-180,0);var X=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.node.position.z),rotation:G}).call((function(){return i.PlayTrailParticle()})),q=u(this.node).to(this.CalculTimeToExit(this.node.position,1),{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z+1.5)}),J=new d;d.fromEuler(J,0,150,0);var U=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z+.5),rotation:J}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[2],i.m_Spline.m_KnotArray[3])})),Z=new d;d.fromEuler(Z,0,120,0);var j=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z),rotation:Z}),Q=new d;d.fromEuler(Q,0,90,0);var Y=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x+1.5,0,this.m_Spline.m_KnotArray[2].m_Vec.z),rotation:Q}),$=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[2].m_Vec,2),{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-1.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z)}),ii=new d;d.fromEuler(ii,0,60,0);var ti=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:ii}),ei=new d;d.fromEuler(ei,0,30,0);var ni=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:ei}),oi=new d;d.fromEuler(oi,0,0,0);var ri=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z+1.5),rotation:oi}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[4],i.m_Spline.m_KnotArray[5])})),mi=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[3].m_Vec,3),{position:this.m_Spline.m_KnotArray[4].m_Vec}).call((function(){i.m_EndParking.ActivateFeedBack(),i.m_SoundManager.playSound(w.VEHICLE_EXIT,.5)})),ai=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[4].m_Vec,4),{position:this.m_Spline.m_KnotArray[5].m_Vec});u(this.node).sequence(W,X,q,U,j,Y,$,ti,ni,ri,mi,ai).call((function(){i.m_Game.EndLevel(),i.node.active=!1})).start(),this.m_MoveForward=!1}else if(this.m_MoveBackward){var li=u(this.node).to(this.m_TimerRotation,{position:new p(this.node.position.x+1.5,0,this.node.position.z)}).call((function(){return i.ClearWay()})),_i=new d;d.fromEuler(_i,0,0,0);var si=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[4].m_Vec.x,0,this.node.position.z+1.5),rotation:_i}).call((function(){return i.PlayTrailParticle()})),hi=u(this.node).to(this.CalculTimeToExit(this.node.position,3),{position:this.m_Spline.m_KnotArray[4].m_Vec}).call((function(){i.m_EndParking.ActivateFeedBack(),i.m_SoundManager.playSound(w.VEHICLE_EXIT,.5)})),ci=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[4].m_Vec,4),{position:this.m_Spline.m_KnotArray[5].m_Vec});u(this.node).sequence(li,si,hi,ci).call((function(){i.m_Game.EndLevel(),i.node.active=!1})).start(),this.m_MoveBackward=!1}}else this.m_MoveForward=!1,this.m_MoveBackward=!1},r.ClearWay=function(){for(var i=0;i<this.m_VehicleData.m_NodeGridArray.length;i++)this.m_VehicleData.m_NodeGridArray[i].m_Occupied=!1},r.CalculTimeToExit=function(i,t){return p.distance(this.m_Spline.m_KnotArray[t+1].m_Vec,i)/this.m_SpeedVehicle},r.CollisionVehicleMove=function(){this.node.eulerAngles.y>-89?(this.m_MoveForward?(this.m_Anim.play(A.ENTER_COLLISION_VEHICLE_FORWARD),this.m_MoveForward=!1,this.m_ImpactFront.play(),this.m_SoundManager.playSound(w.VEHICLE_COLLISION,.5)):this.m_MoveBackward&&(this.m_Anim.play(A.ENTER_COLLISION_VEHICLE_BACKWARD),this.m_MoveBackward=!1,this.m_ImpactBack.play(),this.m_SoundManager.playSound(w.VEHICLE_COLLISION,.5)),this.m_Smiley.playRandomFace(),this.m_SoundManager.playSound(w.HONK,.5),K.getInstance().vibrate(100)):(this.m_MoveForward||this.m_MoveForward?(this.m_Anim.play(A.ENTER_COLLISION_VEHICLE_FORWARD),this.m_MoveForward=!1,this.m_ImpactFront.play(),this.m_SoundManager.playSound(w.VEHICLE_COLLISION,.5)):this.m_MoveBackward&&(this.m_Anim.play(A.ENTER_COLLISION_VEHICLE_BACKWARD),this.m_MoveBackward=!1,this.m_ImpactBack.play(),this.m_SoundManager.playSound(w.VEHICLE_COLLISION,.5)),this.m_Smiley.playRandomFace(),this.m_SoundManager.playSound(w.HONK,.5),K.getInstance().vibrate(100))},r.CollisionVehicleStop=function(i,t){this.node.eulerAngles.y>-89?(1==t&&0==i?this.m_Anim.play(A.COLLISION_VEHICLE_LEFT):-1==t&&0==i&&this.m_Anim.play(A.COLLISION_VEHICLE_RIGHT),1==i&&0==t?this.m_Anim.play(A.COLLISION_VEHICLE_DOWN):-1==i&&0==t&&this.m_Anim.play(A.COLLISION_VEHICLE_UP)):(1==i&&0==t?this.m_Anim.play(A.COLLISION_VEHICLE_RIGHT):-1==i&&0==t&&this.m_Anim.play(A.COLLISION_VEHICLE_LEFT),1==t&&0==i?this.m_Anim.play(A.COLLISION_VEHICLE_DOWN):(1==i&&0==t?this.m_Anim.play(A.COLLISION_VEHICLE_RIGHT):-1==i&&0==t&&this.m_Anim.play(A.COLLISION_VEHICLE_LEFT),1==t&&0==i?this.m_Anim.play(A.COLLISION_VEHICLE_DOWN):-1==t&&0==i&&this.m_Anim.play(A.COLLISION_VEHICLE_UP))),this.m_Smiley.playRandomFace()},r.ChangeSkinVehicle=function(i,t){var e=this.m_Body.position;this.m_Body.destroy();var n=y(i);n.setPosition(e),n.setParent(t),this.m_Body=n},r.ChangeSkinTrailVehicule=function(i,t){for(var e=0;e<this.m_TrailParticle.length;e++){var n=this.m_TrailParticle[e].position,o=y(i);o.setParent(t),o.setPosition(n),o.getComponent(s).enabled=!0,o.getComponent(s).playOnAwake=!1,o.getComponent(s).prewarm=!1,this.m_TrailParticle[e].destroy(),this.m_TrailParticle[e]=o}},r.PrepareToMove=function(i){var t=S.lerp(0,.1,i);this.m_Body.position=new p(0,0,t);var e=S.lerp(0,15,i);this.m_Body.eulerAngles=new p(e,0,0),i=Math.abs(i);var n=S.lerp(1.07*this.m_BodyScale.z,this.m_BodyScale.z*(1-ti),i),o=S.lerp(this.m_BodyScale.x*(1-ti),1.07*this.m_BodyScale.x,i);this.m_Body.scale=new p(n,this.m_BodyScale.y,o)},r.pressed=function(){var i,t;null==(i=this.m_tweenPressed)||i.stop(),null==(t=this.m_tweenReleased)||t.stop(),this.m_tweenPressed=u(this.node).to(.2,{scale:new p(1.07,1-ti,1.07)},{easing:"expoOut"}).start()},r.released=function(){var i,t;null==(i=this.m_tweenPressed)||i.stop(),null==(t=this.m_tweenReleased)||t.stop(),this.m_tweenReleased=u(this.node).to(.5,{scale:new p(1,1,1)},{easing:"backOut"}).start(),u(this.m_Body).to(.5,{scale:this.m_BodyScale,position:new p(0,0,0),eulerAngles:new p(0,0,0)},{easing:"backOut"}).start()},r.playSmokeParticles=function(){this.m_Smoke.play()},r.getCoin=function(){this.m_SoundManager.playSound(w.COIN);var i=y(this.m_CoinPrefab);E.getScene().addChild(i),i.position=this.node.position.add3f(0,1,0),this.scheduleOnce((function(){i.destroy()}),2)},r.brake=function(){this.m_Anim.play(A.VEHICLE_BRAKE),this.m_Smiley.playRandomFace()},r.PlayTrailParticle=function(){for(var i=0;i<this.m_TrailParticle.length;i++)this.m_TrailParticle[i].getComponent(s).enabled=!0,this.m_TrailParticle[i].getComponent(s).play();this.m_SoundManager.playSound(w.VEHICLE_MOVE)},r.CollisionDisable=function(){this.m_Collider.enabled=!1},r.CollisionEnable=function(){this.m_Collider.enabled=!0},r.AnimationEnd=function(){this.m_AnimPlay=!1},t}(V)).prototype,"m_VehicleData",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(F.prototype,"m_Body",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(F.prototype,"m_SizeVehicle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ii.Default}}),W=t(F.prototype,"m_Anim",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(F.prototype,"m_Smoke",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"m_CoinPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"m_Smiley",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(F.prototype,"m_ImpactBack",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(F.prototype,"m_ImpactFront",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(F.prototype,"m_TrailParticle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(F.prototype,"m_Collider",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(F.prototype,"m_EndParking",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=F))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/VehicleData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeObject.ts"],(function(e){var i,t,r,a,n,o;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e._decorator,n=e.CCInteger},function(e){o=e.NodeObject}],execute:function(){var c,h,l,s,u,d,m,p,_;r._RF.push({},"87df0DpwGhEIaMUBmJwy/Tq","VehicleData",void 0);var y=a.ccclass,f=a.property;e("VehicleData",(c=y("VehicleData"),h=f({type:o}),l=f({type:n}),s=f({type:n}),c((m=i((d=function(){function e(e,i,r,a,n){t(this,"m_NodeGridArray",m,this),this.m_Vehicle=null,this.m_NumberOfBoxes=0,t(this,"m_MaxLength",p,this),t(this,"m_MaxWidth",_,this),this.m_NodeGridArray=e,this.m_NumberOfBoxes=i,this.m_MaxLength=r,this.m_MaxWidth=a,this.m_Vehicle=n,this.ValideGridCase()}return e.prototype.ValideGridCase=function(){for(var e=0;e<this.m_NodeGridArray.length;e++)this.m_NodeGridArray[e].m_Occupied=!0,this.m_NodeGridArray[e].m_Vehicle=this.m_Vehicle},e}()).prototype,"m_NodeGridArray",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array}}),p=i(d.prototype,"m_MaxLength",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=i(d.prototype,"m_MaxWidth",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=d))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/VehiclePack.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,c,r,t,a,n;return{setters:[function(e){i=e.applyDecoratedDescriptor,c=e.initializerDefineProperty},function(e){r=e.cclegacy,t=e._decorator,a=e.CCString,n=e.Prefab}],execute:function(){var l,o,u,p,s,h,k;r._RF.push({},"7ce276gSnpLkq/T94ikkUN8","VehiclePack",void 0);var f=t.ccclass,P=t.property;e("VehiclePack",(l=f("VehiclePack"),o=P(a),u=P(n),l((h=i((s=function(){c(this,"m_NamePack",h,this),c(this,"m_VehiclePack",k,this)}).prototype,"m_NamePack",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=i(s.prototype,"m_VehiclePack",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=s))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/Vibrations.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"d9819uJx7xMprN/TGPjoI40","Vibrations",void 0),t("default",function(){function t(){this.isActivated=!0}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var n=t.prototype;return n.vibrate=function(t){var n,i;this.isActivated&&(window.navigator.vibrate&&(null==(n=window)||null==(i=n.navigator)||i.vibrate(t)))},n.pattern=function(t){var n,i;this.isActivated&&(window.navigator.vibrate&&(null==(n=window)||null==(i=n.navigator)||i.vibrate(t)))},n.stop=function(){var t,n;this.isActivated&&(window.navigator.vibrate&&(null==(t=window)||null==(n=t.navigator)||n.vibrate(0)))},t}()).instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/VictoryParticles.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,c,s,a,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){c=t.cclegacy,s=t._decorator,a=t.ParticleSystem2D,o=t.Component}],execute:function(){var l,u,p,y,m,f,h;c._RF.push({},"4a941VNVDBLTaxzqvxRBAAp","VictoryParticles",void 0);var b=s.ccclass,S=s.property;t("VictoryParticles",(l=b("VictoryParticles"),u=S({type:a}),p=S({type:a}),l((f=e((m=function(t){function e(){for(var e,r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c))||this,i(e,"m_particleSystem1",f,n(e)),i(e,"m_particleSystem2",h,n(e)),e}r(e,t);var c=e.prototype;return c.start=function(){},c.play=function(){this.burst(this.m_particleSystem1),this.burst(this.m_particleSystem2)},c.burst=function(t){t.resetSystem(),this.scheduleOnce((function(){t.stopSystem()}),.1)},e}(o)).prototype,"m_particleSystem1",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(m.prototype,"m_particleSystem2",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/YesNoPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopup.ts"],(function(e){var o,t,p,i,n,s,a,l,u,r,c,P,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,p=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.Label,l=e.RichText,u=e.Button,r=e.instantiate,c=e.director,P=e.resources},function(e){y=e.BasePopup}],execute:function(){var N,h,b,f,d,m,g,_,v,B,T,Y;n._RF.push({},"78db6oI8NtDn43pS7ZrZ31K","YesNoPopup",void 0);var C=s.ccclass,w=s.property;e("YesNoPopup",(N=C("YesNoPopup"),h=w({type:a}),b=w({type:l}),f=w({type:u}),d=w({type:u}),N(((Y=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return o=e.call.apply(e,[this].concat(n))||this,p(o,"m_TitleText",_,i(o)),p(o,"m_MessageText",v,i(o)),p(o,"m_YesButton",B,i(o)),p(o,"m_NoButton",T,i(o)),o}t(o,e),o.create=function(e,t,p,i){o.yesNoPopupTitle=e,o.yesNoPopupMessage=t,o.yesNoPopupYesCallback=p,o.yesNoPopupNoCallback=i,P.load("Popups/YesNoPopup",o.onPrefabLoaded)};var n=o.prototype;return n.initYesNoPopup=function(o,t,p,i){var n=this;this.m_TitleText.string=o,this.m_MessageText.string="<color=#4B4B4B>"+t+"</color>",this.m_YesButton.node.on(u.EventType.CLICK,(function(){p(),n.closePopup()}),this),this.m_NoButton.node.on(u.EventType.CLICK,(function(){i(),n.closePopup()}),this),e.prototype.initPopup.call(this,void 0,void 0),e.prototype.showPopup.call(this)},n.showPopup=function(){e.prototype.showPopup.call(this)},n.closePopup=function(){this.m_YesButton.interactable=!1,this.m_NoButton.interactable=!1,e.prototype.closePopup.call(this)},o}(y)).yesNoPopupTitle=void 0,Y.yesNoPopupMessage=void 0,Y.yesNoPopupYesCallback=void 0,Y.yesNoPopupNoCallback=void 0,Y.onPrefabLoaded=function(e,o){var t=r(o);t.setParent(c.getScene().getChildByPath("UIGame/PopupContainer")),t.getComponent(Y).initYesNoPopup(Y.yesNoPopupTitle,Y.yesNoPopupMessage,Y.yesNoPopupYesCallback,Y.yesNoPopupNoCallback)},_=o((g=Y).prototype,"m_TitleText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=o(g.prototype,"m_MessageText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=o(g.prototype,"m_YesButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=o(g.prototype,"m_NoButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});